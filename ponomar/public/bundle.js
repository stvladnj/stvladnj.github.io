var app=function(e,t){"use strict";function n(){}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;const o=e=>e;function r(e,t){for(const n in t)e[n]=t[n];return e}function a(e){return e()}function i(){return Object.create(null)}function s(e){e.forEach(a)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e,t,n){if(e){const o=u(e,t,n);return e[0](o)}}function u(e,t,n){return e[1]?r({},r(t.$$scope.ctx,e[1](n?n(t):{}))):t.$$scope.ctx}function h(e,t,n,o){return e[1]?r({},r(t.$$scope.changed||{},e[1](o?o(n):{}))):t.$$scope.changed||{}}function f(e){return null==e?"":e}const g=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m="undefined"!=typeof window;let y=m?()=>window.performance.now():()=>Date.now(),p=m?e=>requestAnimationFrame(e):n;const b=new Set;let v,k=!1;function $(){b.forEach(e=>{e[0](y())||(b.delete(e),e[1]())}),(k=b.size>0)&&p($)}function M(e){let t;return k||(k=!0,p($)),{promise:new Promise(n=>{b.add(t=[e,n])}),abort(){b.delete(t)}}}function w(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function D(e){return document.createTextNode(e)}function O(){return D(" ")}function T(){return D("")}function I(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function B(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)null==t[o]?e.removeAttribute(o):"style"===o?e.style.cssText=t[o]:n[o]&&n[o].set?e[o]=t[o]:E(e,o,t[o])}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function F(e,t,n){e.classList[n?"add":"remove"](t)}function R(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class H{constructor(e,t=null){this.e=_("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)C(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(S)}}let N,Y=0,A={};function P(e,t,n,o,r,a,i,s=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*a(e);c+=100*e+`%{${i(o,1-o)}}\n`}const d=c+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`;if(!A[u]){if(!v){const e=_("style");document.head.appendChild(e),v=e.sheet}A[u]=!0,v.insertRule(`@keyframes ${u} ${d}`,v.cssRules.length)}const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${r}ms 1 both`,Y+=1,u}function J(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--Y&&p(()=>{if(Y)return;let e=v.cssRules.length;for(;e--;)v.deleteRule(e);A={}})}function q(e){N=e}function W(){if(!N)throw new Error("Function called outside component initialization");return N}function z(e){W().$$.on_mount.push(e)}function G(){const e=W();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=R(t,n);o.slice().forEach(t=>{t.call(e,r)})}}}const U=[],X=[],K=[],V=[],Z=Promise.resolve();let Q,ee=!1;function te(){ee||(ee=!0,Z.then(re))}function ne(e){K.push(e)}function oe(e){V.push(e)}function re(){const e=new Set;do{for(;U.length;){const e=U.shift();q(e),ae(e.$$)}for(;X.length;)X.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];e.has(n)||(n(),e.add(n))}K.length=0}while(U.length);for(;V.length;)V.pop()();ee=!1}function ae(e){null!==e.fragment&&(e.update(e.dirty),s(e.before_update),e.fragment&&e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(ne))}function ie(){return Q||(Q=Promise.resolve()).then(()=>{Q=null}),Q}function se(e,t,n){e.dispatchEvent(R(`${t?"intro":"outro"}${n}`))}const le=new Set;let ce;function de(){ce={r:0,c:[],p:ce}}function ue(){ce.r||s(ce.c),ce=ce.p}function he(e,t){e&&e.i&&(le.delete(e),e.i(t))}function fe(e,t,n,o){if(e&&e.o){if(le.has(e))return;le.add(e),ce.c.push(()=>{le.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const ge={duration:0};function me(e,t){const n=t.token={};function o(e,o,a,i){if(t.token!==n)return;t.resolved=a&&{[a]:i};const s=r(r({},t.ctx),t.resolved),l=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==o&&e&&(de(),fe(e,1,1,()=>{t.blocks[n]=null}),ue())}):t.block.d(1),l.c(),he(l,1),l.m(t.mount(),t.anchor),c=!0),t.block=l,t.blocks&&(t.blocks[o]=l),c&&re()}if((a=e)&&"object"==typeof a&&"function"==typeof a.then){const n=W();if(e.then(e=>{q(n),o(t.then,1,t.value,e),q(null)},e=>{q(n),o(t.catch,2,t.error,e),q(null)}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved={[t.value]:e}}var a}const ye="undefined"!=typeof window?window:global;function pe(e,t){fe(e,1,1,()=>{t.delete(e.key)})}function be(e,t,n){g(e.$$.props,t)&&(t=e.$$.props[t]||t,e.$$.bound[t]=n,n(e.$$.ctx[t]))}function ve(e){e&&e.c()}function ke(e,t,n){const{fragment:o,on_mount:r,on_destroy:i,after_update:c}=e.$$;o&&o.m(t,n),ne(()=>{const t=r.map(a).filter(l);i?i.push(...t):s(t),e.$$.on_mount=[]}),c.forEach(ne)}function $e(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx={})}function Me(e,t,o,r,a,l){const c=N;q(e);const d=t.props||{},u=e.$$={fragment:null,ctx:null,props:l,update:n,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:null};let h=!1;var f;u.ctx=o?o(e,d,(t,n,o=n)=>(u.ctx&&a(u.ctx[t],u.ctx[t]=o)&&(u.bound[t]&&u.bound[t](o),h&&function(e,t){e.$$.dirty||(U.push(e),te(),e.$$.dirty=i()),e.$$.dirty[t]=!0}(e,t)),n)):d,u.update(),h=!0,s(u.before_update),u.fragment=!!r&&r(u.ctx),t.target&&(t.hydrate?u.fragment&&u.fragment.l((f=t.target,Array.from(f.childNodes))):u.fragment&&u.fragment.c(),t.intro&&he(e.$$.fragment),ke(e,t.target,t.anchor),re()),q(c)}class we{$destroy(){$e(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Ce(e,t,n,o,r){const a=Oe(function(e){return Oe(818.9874+.985647352*e)}(e)+180+t),[i,s,l]=function(e){const[t,n]=function(e){const t=Oe(356.047+.9856002585*e),n=282.9404+470935e-10*e,o=.016709-1.151e-9*e,r=t+o*Se*xe(t)*(1+o*_e(t)),a=_e(r)-o,i=Math.sqrt(1-o*o)*xe(r),s=Math.sqrt(a*a+i*i);let l=De(i,a)+n;l>=360&&(l-=360);return[s,l]}(e);let o=t*_e(n),r=t*xe(n);const a=23.4393-3.563e-7*e;let i=r*xe(a);const s=De(r*=_e(a),o),l=De(i,Math.sqrt(o*o+r*r));return[s,l,t]}(e),c=12-((d=a-i)-360*Math.floor(d/360+.5))/15;var d;r&&(o-=.2666/l);const u=(xe(o)-xe(n)*xe(s))/(_e(n)*_e(s));let h;return u>=1?(console.warn("Sun never rises!"),h=0):u<=-1?(console.warn("Sun never sets!"),h=12):h=function(e){return Math.acos(e)*Se}(u)/15,[c-h,c+h]}const Se=180/Math.PI;function xe(e){return Math.sin(e/Se)}function _e(e){return Math.cos(e/Se)}function De(e,t){return Math.atan2(e,t)*Se}function Oe(e){return e-360*Math.floor(e/360)}const Te={default:{altit:-35/60,upperLimb:!0},civil:{altit:-6,upperLimb:!1},nautical:{altit:-12,upperLimb:!1},amature:{altit:-15,upperLimb:!1},astronomical:{altit:-18,upperLimb:!1}};function Ie(e){for(;e<0;)e+=24;for(;e>=24;)e-=24;const t=Math.floor(e);return{hour:t,minute:Math.floor(60*(e-t))}}function Ee({hour:e,minute:t}){const n=e=>e<10?"0"+e.toString():e.toString();return n(e)+":"+n(t)}const Be=[1582,10,15],je=[1582,10,5];function Le(e,t){t=Object.assign({fromJulianDate:!0},t);let[n,o,r]=e;if(o<1||o>12)throw new Error("bad month value: "+o);if(r<1||r>31)throw new Error("bad day value: "+o);!t.fromJulianDate&&e<Be&&(e>je&&([n,o,r]=je),t.fromJulianDate=!0);const a=Math.floor((14-o)/12),i=n+4800-a,s=o+12*a-3;let l=r+Math.floor((153*s+2)/5)+365*i+Math.floor(i/4)-32083;return t.fromJulianDate||(l-=Math.floor(i/100),l+=Math.floor(i/400),l+=38),l}function Fe(e,t){let n=e+1401;(t=Object.assign({julian:!0},t)).julian||(n+=Math.floor(3*Math.floor((4*e+274277)/146097)/4)-38);let o=4*n+3,r=5*Math.floor(o%1461/4)+2,a=Math.floor(r%153/5)+1,i=(Math.floor(r/153)+2)%12+1;return[Math.floor(o/1461)-4716+Math.floor((14-i)/12),i,a]}class Re{constructor({year:e,month:t,day:n}){if(void 0===e)throw new Error("bad year value: "+e);if(void 0===t||t<1||t>12)throw new Error("bad month value: "+t);if(void 0===n||n<1||n>31)throw new Error("bad day value: "+n);this.jday=Le([e,t,n]),[this.year,this.month,this.day]=[e,t,n]}static fromJulianDay(e){const[t,n,o]=Fe(e);return new this({year:t,month:n,day:o})}static fromGregorian({month:e,day:t,year:n}){var o;return[n,e,t]=(o=[n,e,t])<Be?o>je?je:o:Fe(Le(o,{fromJulianDate:!1}),{julian:!0}),new this({year:n,month:e,day:t})}get dayOfWeek(){return(this.jday+1)%7}get dayOfYear(){const e=(this.jday+32083+1460)%1461+1;return 1461===e?366:(e+59+364)%365}add(e){return Re.fromJulianDay(this.jday+e)}daysSince(e){return this.jday-e.jday}toGregorian(){const[e,t,n]=Fe(this.jday,{julian:!1});return{year:e,month:t,day:n}}getSunriseSunset(e,t,n){return function(e,t,n,o){const{observation:r,tzoffset:a}=Object.assign({observation:"default",tzoffset:0},o);let i,s;if("string"==typeof r){if(void 0===Te[r])throw new Error('Unrecognized observation type. Expect one of: "default", "civil", "nautical", "amature", or "astronomical".\nAlternatively, you can pass an object with "altit" and "upperLimb" keys to set custom observation parameters.');({altit:i,upperLimb:s}=Te[r])}else({altit:i,upperLimb:s}=r);const l=e-2451544+.5-t/360;let[c,d]=Ce(l,t,n,i,s);return[Ee(Ie(c+a)),Ee(Ie(d+a))]}(this.jday,e,t,n)}}function He(e){if(e<313)throw new Error("year is before 312AD!");return(e-312+14)%15+1}function Ne(e){return(e+20+27)%28+1}function Ye(e){return(e-2+18)%19+1}function Ae(e){const t=(e+20)%28;let n=t+Math.floor(t/4);return n=(n+6)%7+1}function Pe(e){const t=(e+1)%19*11%30;return 0===t?29:t}function Je(e){return(51-Pe(e))%30}function qe(e){const t=(19*(e%19)+15)%30,n=(2*(e%4)+4*(e%7)-t+34)%7,o=Math.floor((t+n+114)/31);return new Re({day:(t+n+114)%31+1,month:o,year:e})}const We=["А","Б","В","Г","Д","Е","Ж","Ѕ","З","И","І","К","Л","М","Н","О","П","Р","С","Т","Ꙋ","Ф","Х","Ѿ","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Ѣ","Ю","Ѫ","Ѧ"];function ze(e){const t=qe(e),n=new Re({year:e,month:3,day:22});return We[t.jday-n.jday]}function Ge(e){return{pascha:qe(e),indiction:He(e),solarCycle:Ne(e),lunarCycle:Ye(e),concurrent:Ae(e),foundation:Pe(e),epacta:Je(e),keyOfBoundaries:ze(e)}}function Ue(e,t){const n=Object.keys(t);return Function.apply(null,[...n,"return ("+e+");"]).apply(null,n.map(e=>t[e]))}function Xe(e,t){if(!e)throw new Error("Assertion failed: "+JSON.stringify(t))}const Ke="enter",Ve="exit",Ze="text",Qe="pi",et="comment";new DOMParser,new XMLSerializer;function tt(e){if(!e)return;const t=(new DOMParser).parseFromString(e,"application/xml").documentElement;if("parsererror"===t.nodeName)throw new Error("Error parsing text");return t}function*nt(e){yield{type:Ke,tag:ot(e.namespaceURI,e.nodeName),attrib:rt(e)};for(const t of e.childNodes)3===t.nodeType?yield{type:Ze,text:t.textContent}:1===t.nodeType?yield*nt(t):7===t.nodeType?yield{type:Qe,target:t.target,text:t.data}:8===t.nodeType&&(yield{type:et,text:t.data});yield{type:Ve}}function ot(e,t){if(e){const n=t.split(":");return"{"+e+"}"+n[n.length-1]}return t}function rt(e){const t={};for(var n=0;n<e.attributes.length;n++){const o=e.attributes[n];"xmlns"===o.name||o.name.startsWith("xmlns:")||(t[ot(o.namespaceURI,o.name)]=o.value)}return t}function*at(e,t){const n=tt(e),o=[];let r=!1;for(const e of nt(n))if(e.type===Ke){if(r){o.push(!1);continue}if(void 0!==e.attrib.Cmd){if(!(void 0===t||Ue(e.attrib.Cmd,t))){r=!0,o.push(!0);continue}}o.push(!1),yield e}else if(e.type===Ve){if(o.pop()){r=!1;continue}r||(yield e)}else r||(yield e)}function*it(e,t,n){for(const o of at(e,n))if(o.type===Ke&&(Xe("SAINT"===o.tag||"DAY"===o.tag,o),"SAINT"===o.tag)){Xe(void 0!==o.attrib.CId,o);const e=void 0===o.attrib.Tone?null:void 0===n?o.attrib.Tone:Ue(o.attrib.Tone,n);yield{cid:o.attrib.CId,src:t,menologion:o.attrib.Src||"",type:e}}}const st=["VESPERS","MATINS","LITURGY","SEXTE","PRIMES","TERCE","NONE"];function lt(e,t){const n={},o={info:null,life:null,name:null,ref:null};let r,a=!1;for(const[i,s]of function*(e){const t=[];for(const n of e)if(n.type===Ke)t.push(n),yield[n,void 0];else if(n.type===Ve)yield[n,t.pop()];else if(n.type===Ze)yield[n,void 0];else if(n.type===Qe)yield[n,void 0];else{if(n.type!==et)throw new Error("Unexpected event "+n);yield[n,void 0]}}(at(e,t)))if(i.type===Ke)if("NAME"===i.tag)o.name?o.name={...o.name,...i.attrib}:o.name={...i.attrib},delete o.name.Cmd;else if("INFO"===i.tag)o.info?o.info={...o.info,...i.attrib}:o.info={...i.attrib};else if("REF"===i.tag)void 0===i.attrib.Type&&(o.ref=i.attrib.CId);else if("SERVICE"===i.tag)o.type=i.attrib.Type||null,void 0!==t&&(t.dRank=+o.type);else if("SCRIPTURE"===i.tag){if(void 0!==r){const e={effWeek:i.attrib.EffWeek||null,pericope:i.attrib.Pericope||null,reading:i.attrib.Reading,type:i.attrib.Type||null};void 0===n[r]&&(n[r]=[]),n[r].push(e)}}else"LIFE"===i.tag?(o.life={...i.attrib,Text:""},delete o.life.Cmd,a=!0):st.includes(i.tag)&&"primes"===(r=i.tag.toLowerCase())&&(r="prime");else i.type===Ve?"LIFE"===s.tag?a=!1:st.includes(s.tag)&&(r=void 0):i.type===Ze&&a&&(o.life.Text=o.life.Text+i.text.replace(/\r/g,""));return 0===Object.keys(n).length?[o,void 0]:[o,n]}class ct{constructor(e,t){this.db=e,this.date=t;const n=this.date.year,o=Ge(n).pascha,r=Ge(n+1).pascha,a=Ge(n-1).pascha,i=this.date.daysSince(o),s=this.date.daysSince(a),l={dow:this.date.dayOfWeek,doy:this.date.dayOfYear,nday:i,ndayP:s,ndayF:this.date.daysSince(r),Year:this.date.year,GS:1};let c;c=i>=-70&&i<0?this.db.triodion(-i):i<-70?this.db.pentecostarion(s+1):this.db.pentecostarion(i+1),this.saints=[],this.saints.push(...it(c,"pentecostarion",l)),Xe(this.saints.length>0),this.tone=this.saints.reduce((e,t)=>null!==t.type?+t.type:e,0),0===this.tone&&(this.tone=8),c=this.db.menaion(this.date.month,this.date.day),this.saints.push(...it(c,"menaion",l));for(const e of this.saints){e.info=null,e.life=null,e.name=null,e.ref=null;for(const t of this.db.lives(e.cid)){const[n,o]=lt(t,{...l,dRank:+e.type});for(const t of Object.keys(n))"name"===t||"info"===t?null!==n[t]&&(e[t]?e[t]={...e[t],...n[t]}:e[t]=n[t]):e[t]=n[t],null!==n[t]&&("name"!==t&&"info"!==t||!e[t]?e[t]=n[t]:e[t]={...e[t],...n[t]});if(void 0!==o)if(void 0===e.readings)e.readings=o;else for(const t of Object.keys(o))void 0===e.readings[t]?e.readings[t]=o[t]:e.readings[t].push(...o[t])}}this.dayRank=this.saints.reduce((e,t)=>null===t.type?e:Math.max(e,+t.type),-1),l.dRank=this.dayRank,c=this.db.fasting();for(const e of function*(e,t){for(const n of at(e,t))n.type===Ke&&(Xe("FASTING"===n.tag||"PERIOD"===n.tag||"RULE"===n.tag,n),Xe(void 0===n.attrib.Tone,n),"RULE"===n.tag&&(yield n.attrib.Case))}(c,l))this.fastingCode=e;const d=this.saints.reduce((e,t)=>!!e||void 0!==t.readings&&void 0!==t.readings.liturgy,!1);this.commands=[],d&&(c=this.db.divineLiturgy(),this.commands.push(...function*(e,t){for(const n of at(e,t))n.type===Ke&&(Xe("COMMAND"===n.tag||"DATA"===n.tag,n),"COMMAND"===n.tag&&(yield{name:n.attrib.Name,value:n.attrib.Value,comment:n.attrib.Comment}))}(c,l))),this.bible=function(e){const t=[];let n;for(const o of nt(tt(e)))o.type===Ke&&(Xe(["BMLFILE","BIBLE","BOOK","INFO"].indexOf(o.tag)>=0,o),"BIBLE"===o.tag?(n={id:o.attrib.Id,name:o.attrib.Name,books:[]},t.push(n)):"INFO"===o.tag?n.info=o.attrib:"BOOK"===o.tag&&n.books.push(o.attrib));return t}(this.db.bible())}execCommand(e){for(const t of this.saints)if("pentecostarion"===t.src&&(+t.cid>=9e3&&+t.cid<=9315||+t.cid>=9849&&+t.cid<=9900)){const n=[];void 0!==t.readings&&void 0!==t.readings.liturgy&&n.push(...t.readings.liturgy),0===this._execCommand(n,e).length?t.readings&&t.readings.liturgy&&delete t.readings.liturgy:(t.readings||(t.readings={}),t.readings.liturgy=n)}}get dRank(){return this.saints.reduce((e,t)=>"menaion"!==t.src?e:null===t.type?e:+t.type>e?+t.type:e,-1)}_any(e,t){for(const n of this.commands)if(n.name===e&&Ue(n.value,t))return!0;return!1}_execCommand(e,t){const n=Ge(this.date.year).pascha,o=Ge(this.date.year+1).pascha,r=Ge(this.date.year-1).pascha,a={dRank:t,dow:this.date.dayOfWeek,doy:this.date.dayOfYear,nday:this.date.daysSince(n),ndayP:this.date.daysSince(r),ndayF:this.date.daysSince(o)};for(const t of this.commands)if("Transfer"===t.name&&!Ue(t.value,a))return e;for(const t of this.commands)if(Ue(t.value,a)&&("Suppress"===t.name||"Class3Transfers"===t.name))return e.length=0,e;if(this._any("TransferRulesB",a)){const t=this.date.add(1),a=new ct(this.db,t),i={dRank:a.dRank,dow:t.dayOfWeek,doy:t.dayOfYear,nday:t.daysSince(n),ndayP:t.daysSince(r),ndayF:t.daysSince(o),GS:1};if(this._any("Class3Transfers",i))for(const t of a.saints)"pentecostarion"===t.src&&void 0!==t.readings&&void 0!==t.readings.liturgy&&e.push(...t.readings.liturgy)}if(this._any("TransferRulesF",a)){const t=this.date.add(-1),a=new ct(this.db,t),i={dRank:a.dRank,dow:t.dayOfWeek,doy:t.dayOfYear,nday:t.daysSince(n),ndayP:t.daysSince(r),ndayF:t.daysSince(o),GS:1};if(this._any("Class3Transfers",i))for(const t of a.saints)"pentecostarion"===t.src&&void 0!==t.readings&&void 0!==t.readings.liturgy&&e.push(...t.readings.liturgy)}return e}}class dt{constructor(e){this._lang,this.engine=e}lang(e){return this._lang=e,this}_findBottomUp(e){if(void 0===this._lang)throw new Error("lang() not set");const t=this._lang.split("/");for(let n=t.length;n>=0;n--){const o=[...t.slice(0,n),e].join("/");if(this.engine.has(o))return o}throw new Error("Failed to locate "+e)}*_findTopDown(e){if(void 0===this._lang)throw new Error("lang() not set");const t=this._lang.split("/");for(let n=0;n<=t.length;n++){const o=[...t.slice(0,n),e].join("/");this.engine.has(o)&&(yield o)}}_read(e){const t=this._findBottomUp(e);return this.engine.get(t)}*_readTopDown(e){for(const t of this._findTopDown(e))yield this.engine.get(t)}triodion(e){return this._read(`xml/triodion/${ut(e)}.xml`)}pentecostarion(e){return this._read(`xml/pentecostarion/${ut(e)}.xml`)}menaion(e,t){return this._read(`xml/${ut(e)}/${ut(t)}.xml`)}*lives(e){for(const t of this._readTopDown(`xml/lives/${ut(e)}.xml`))yield t}fasting(){return this._read("xml/Commands/Fasting.xml")}divineLiturgy(){return this._read("xml/Commands/DivineLiturgy.xml")}bible(){return this._read("xml/bible.xml")}icons(e,t){if(void 0===t){if(void 0===this._lang)throw new Error("lang() not set");t=[this._lang]}const n=[];for(const o of t){const t=`${o}/icons/${e}`;this.engine.has(t)&&n.push(...this.engine.list(t))}return n}}const ut=e=>e<10?"0"+e:""+e;class ht{constructor(e){this.db=e}static async load(e){await fetch(e);const t=await requiest.json();return new ht(t)}has(e){return void 0!==this.db[e]}get(e){return this.db[e]}*list(e){yield*this.db[e]}}class ft extends dt{constructor(e){super(new ht(e))}}const gt=(e,t,n)=>{let o=new Date(t,e,1);o.setDate(o.getDate()-o.getDay());let r=11===e?0:e+1,a=[];for(;o.getMonth()!==r||0!==o.getDay()||6!==a.length;){0===o.getDay()&&a.unshift({days:[],id:`${t}${e}${t}${a.length}`});const r=Object.assign({partOfMonth:o.getMonth()===e,date:new Date(o)},n(o));a[0].days.push(r),o.setDate(o.getDate()+1)}return a.reverse(),{month:e,year:t,weeks:a}},mt=(e,t,n)=>{let o=new Date;return o.setHours(0,0,0,0),r=>({selectable:r>=e&&r<=t&&(!n||n(r)),isToday:r.getTime()===o.getTime()})};const yt=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function pt(e){const t=e-1;return t*t*t+1}function bt(e,{delay:t=0,duration:n=400,easing:r=o}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>`opacity: ${e*a}`}}function vt(e,{delay:t=0,duration:n=400,easing:o=pt,x:r=0,y:a=0,opacity:i=0}){const s=getComputedStyle(e),l=+s.opacity,c="none"===s.transform?"":s.transform,d=l*(1-i);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*r}px, ${(1-e)*a}px);\n\t\t\topacity: ${l-d*t}`}}function kt(e,t,n){const o=Object.create(e);return o.day=t[n],o}function $t(e){let t,n,o,r,a,i=e.day.date.getDate()+"";function s(...t){return e.click_handler(e,...t)}return{c(){t=_("div"),n=_("button"),o=D(i),r=O(),E(n,"class","day--label svelte-1f2gkwh"),E(n,"type","button"),F(n,"selected",yt(e.day.date,e.selected)),F(n,"highlighted",yt(e.day.date,e.highlighted)),F(n,"shake-date",e.shouldShakeDate&&yt(e.day.date,e.shouldShakeDate)),F(n,"disabled",!e.day.selectable),E(t,"class","day svelte-1f2gkwh"),F(t,"outside-month",!e.day.partOfMonth),F(t,"is-today",e.day.isToday),F(t,"is-disabled",!e.day.selectable),a=I(n,"click",s)},m(e,a){C(e,t,a),w(t,n),w(n,o),w(t,r)},p(r,a){e=a,r.days&&i!==(i=e.day.date.getDate()+"")&&j(o,i),(r.areDatesEquivalent||r.days||r.selected)&&F(n,"selected",yt(e.day.date,e.selected)),(r.areDatesEquivalent||r.days||r.highlighted)&&F(n,"highlighted",yt(e.day.date,e.highlighted)),(r.shouldShakeDate||r.areDatesEquivalent||r.days)&&F(n,"shake-date",e.shouldShakeDate&&yt(e.day.date,e.shouldShakeDate)),r.days&&F(n,"disabled",!e.day.selectable),r.days&&F(t,"outside-month",!e.day.partOfMonth),r.days&&F(t,"is-today",e.day.isToday),r.days&&F(t,"is-disabled",!e.day.selectable)},d(e){e&&S(t),a()}}}function Mt(e){let t,r,a,i,c=e.days,d=[];for(let t=0;t<c.length;t+=1)d[t]=$t(kt(e,c,t));return{c(){t=_("div");for(let e=0;e<d.length;e+=1)d[e].c();E(t,"class","week svelte-1f2gkwh")},m(e,n){C(e,t,n);for(let e=0;e<d.length;e+=1)d[e].m(t,null);i=!0},p(e,n){if(e.days||e.areDatesEquivalent||e.selected||e.highlighted||e.shouldShakeDate||e.dispatch){let o;for(c=n.days,o=0;o<c.length;o+=1){const r=kt(n,c,o);d[o]?d[o].p(e,r):(d[o]=$t(r),d[o].c(),d[o].m(t,null))}for(;o<d.length;o+=1)d[o].d(1);d.length=c.length}},i(s){i||(ne(()=>{a&&a.end(1),r||(r=function(e,t,r){let a,i,s=t(e,r),c=!1,d=0;function u(){a&&J(e,a)}function h(){const{delay:t=0,duration:r=300,easing:l=o,tick:h=n,css:f}=s||ge;f&&(a=P(e,0,1,r,t,l,f,d++)),h(0,1);const g=y()+t,m=g+r;i&&i.abort(),c=!0,ne(()=>se(e,!0,"start")),i=M(t=>{if(c){if(t>=m)return h(1,0),se(e,!0,"end"),u(),c=!1;if(t>=g){const e=l((t-g)/r);h(e,1-e)}}return c})}let f=!1;return{start(){f||(J(e),l(s)?(s=s(),ie().then(h)):h())},invalidate(){f=!1},end(){c&&(u(),c=!1)}}}(t,vt,{x:50*e.direction,duration:180,delay:90})),r.start()}),i=!0)},o(e){r&&r.invalidate(),a=function(e,t,r){let a,i=t(e,r),c=!0;const d=ce;function u(){const{delay:t=0,duration:r=300,easing:l=o,tick:u=n,css:h}=i||ge;h&&(a=P(e,1,0,r,t,l,h));const f=y()+t,g=f+r;ne(()=>se(e,!1,"start")),M(t=>{if(c){if(t>=g)return u(0,1),se(e,!1,"end"),--d.r||s(d.c),!1;if(t>=f){const e=l((t-f)/r);u(1-e,e)}}return c})}return d.r+=1,l(i)?ie().then(()=>{i=i(),u()}):u(),{end(t){t&&i.tick&&i.tick(1,0),c&&(a&&J(e,a),c=!1)}}}(t,bt,{duration:180}),i=!1},d(e){e&&S(t),x(d,e),e&&a&&a.end()}}}function wt(e,t,n){const o=G();let{days:r}=t,{selected:a}=t,{start:i}=t,{end:s}=t,{highlighted:l}=t,{shouldShakeDate:c}=t,{direction:d}=t;return e.$set=(e=>{"days"in e&&n("days",r=e.days),"selected"in e&&n("selected",a=e.selected),"start"in e&&n("start",i=e.start),"end"in e&&n("end",s=e.end),"highlighted"in e&&n("highlighted",l=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",c=e.shouldShakeDate),"direction"in e&&n("direction",d=e.direction)}),{dispatch:o,days:r,selected:a,start:i,end:s,highlighted:l,shouldShakeDate:c,direction:d,click_handler:({day:e})=>o("dateSelected",e.date)}}class Ct extends we{constructor(e){super(),Me(this,e,wt,Mt,c,{days:0,selected:0,start:0,end:0,highlighted:0,shouldShakeDate:0,direction:0})}}function St(e,t,n){const o=Object.create(e);return o.week=t[n],o}function xt(e,t){let n,o;const r=new Ct({props:{days:t.week.days,selected:t.selected,start:t.start,end:t.end,highlighted:t.highlighted,shouldShakeDate:t.shouldShakeDate,direction:t.direction}});return r.$on("dateSelected",t.dateSelected_handler),{key:e,first:null,c(){n=T(),ve(r.$$.fragment),this.first=n},m(e,t){C(e,n,t),ke(r,e,t),o=!0},p(e,t){const n={};e.visibleMonth&&(n.days=t.week.days),e.selected&&(n.selected=t.selected),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.highlighted&&(n.highlighted=t.highlighted),e.shouldShakeDate&&(n.shouldShakeDate=t.shouldShakeDate),e.direction&&(n.direction=t.direction),r.$set(n)},i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){fe(r.$$.fragment,e),o=!1},d(e){e&&S(n),$e(r,e)}}}function _t(e){let t,n,o=[],r=new Map,a=e.visibleMonth.weeks;const i=e=>e.week.id;for(let t=0;t<a.length;t+=1){let n=St(e,a,t),s=i(n);r.set(s,o[t]=xt(s,n))}return{c(){t=_("div");for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","month-container svelte-ny3kda")},m(e,r){C(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){const a=n.visibleMonth.weeks;de(),o=function(e,t,n,o,r,a,i,s,l,c,d,u){let h=e.length,f=a.length,g=h;const m={};for(;g--;)m[e[g].key]=g;const y=[],p=new Map,b=new Map;for(g=f;g--;){const e=u(r,a,g),s=n(e);let l=i.get(s);l?o&&l.p(t,e):(l=c(s,e)).c(),p.set(s,y[g]=l),s in m&&b.set(s,Math.abs(g-m[s]))}const v=new Set,k=new Set;function $(e){he(e,1),e.m(s,d),i.set(e.key,e),d=e.first,f--}for(;h&&f;){const t=y[f-1],n=e[h-1],o=t.key,r=n.key;t===n?(d=t.first,h--,f--):p.has(r)?!i.has(o)||v.has(o)?$(t):k.has(r)?h--:b.get(o)>b.get(r)?(k.add(o),$(t)):(v.add(r),h--):(l(n,i),h--)}for(;h--;){const t=e[h];p.has(t.key)||l(t,i)}for(;f;)$(y[f-1]);return y}(o,e,i,1,n,a,r,t,pe,xt,null,St),ue()},i(e){if(!n){for(let e=0;e<a.length;e+=1)he(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)fe(o[e]);n=!1},d(e){e&&S(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function Dt(e,t,n){let o,{id:r}=t,{visibleMonth:a}=t,{selected:i}=t,{start:s}=t,{end:l}=t,{highlighted:c}=t,{shouldShakeDate:d}=t,u=r;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"visibleMonth"in e&&n("visibleMonth",a=e.visibleMonth),"selected"in e&&n("selected",i=e.selected),"start"in e&&n("start",s=e.start),"end"in e&&n("end",l=e.end),"highlighted"in e&&n("highlighted",c=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",d=e.shouldShakeDate)}),e.$$.update=((e={lastId:1,id:1})=>{(e.lastId||e.id)&&(n("direction",o=u<r?1:-1),n("lastId",u=r))}),{id:r,visibleMonth:a,selected:i,start:s,end:l,highlighted:c,shouldShakeDate:d,direction:o,dateSelected_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}}}class Ot extends we{constructor(e){super(),Me(this,e,Dt,_t,c,{id:0,visibleMonth:0,selected:0,start:0,end:0,highlighted:0,shouldShakeDate:0})}}const Tt=[{name:"January",abbrev:"Jan"},{name:"February",abbrev:"Feb"},{name:"March",abbrev:"Mar"},{name:"April",abbrev:"Apr"},{name:"May",abbrev:"May"},{name:"June",abbrev:"Jun"},{name:"July",abbrev:"Jul"},{name:"August",abbrev:"Aug"},{name:"September",abbrev:"Sep"},{name:"October",abbrev:"Oct"},{name:"November",abbrev:"Nov"},{name:"December",abbrev:"Dec"}],It=[{name:"Sunday",abbrev:"Sun"},{name:"Monday",abbrev:"Mon"},{name:"Tuesday",abbrev:"Tue"},{name:"Wednesday",abbrev:"Wed"},{name:"Thursday",abbrev:"Thu"},{name:"Friday",abbrev:"Fri"},{name:"Saturday",abbrev:"Sat"}],{Object:Et}=ye;function Bt(e,t,n){const o=Et.create(e);return o.monthDefinition=t[n],o.index=n,o}function jt(e){let t,n,o,r,a,i=e.monthDefinition.abbrev+"";function s(...t){return e.click_handler_2(e,...t)}return{c(){t=_("div"),n=_("span"),o=D(i),r=O(),E(n,"class","svelte-1dqf106"),E(t,"class","month-selector--month svelte-1dqf106"),F(t,"selected",e.index===e.month),F(t,"selectable",e.monthDefinition.selectable),a=I(t,"click",s)},m(e,a){C(e,t,a),w(t,n),w(n,o),w(t,r)},p(n,r){e=r,n.availableMonths&&i!==(i=e.monthDefinition.abbrev+"")&&j(o,i),n.month&&F(t,"selected",e.index===e.month),n.availableMonths&&F(t,"selectable",e.monthDefinition.selectable)},d(e){e&&S(t),a()}}}function Lt(e){let t,o,r,a,i,l,c,d,u,h,f,g,m,y=Tt[e.month].name+"",p=e.availableMonths,b=[];for(let t=0;t<p.length;t+=1)b[t]=jt(Bt(e,p,t));return{c(){t=_("div"),o=_("div"),(r=_("div")).innerHTML='<i class="arrow left svelte-1dqf106"></i>',a=O(),i=_("div"),l=D(y),c=O(),d=D(e.year),u=O(),(h=_("div")).innerHTML='<i class="arrow right svelte-1dqf106"></i>',f=O(),g=_("div");for(let e=0;e<b.length;e+=1)b[e].c();E(r,"class","control svelte-1dqf106"),F(r,"enabled",e.canDecrementMonth),E(i,"class","label svelte-1dqf106"),E(h,"class","control svelte-1dqf106"),F(h,"enabled",e.canIncrementMonth),E(o,"class","heading-section svelte-1dqf106"),E(g,"class","month-selector svelte-1dqf106"),F(g,"open",e.monthSelectorOpen),E(t,"class","title"),m=[I(r,"click",e.click_handler),I(i,"click",e.toggleMonthSelectorOpen),I(h,"click",e.click_handler_1)]},m(e,n){C(e,t,n),w(t,o),w(o,r),w(o,a),w(o,i),w(i,l),w(i,c),w(i,d),w(o,u),w(o,h),w(t,f),w(t,g);for(let e=0;e<b.length;e+=1)b[e].m(g,null)},p(e,t){if(e.canDecrementMonth&&F(r,"enabled",t.canDecrementMonth),e.month&&y!==(y=Tt[t.month].name+"")&&j(l,y),e.year&&j(d,t.year),e.canIncrementMonth&&F(h,"enabled",t.canIncrementMonth),e.month||e.availableMonths||e.monthSelected){let n;for(p=t.availableMonths,n=0;n<p.length;n+=1){const o=Bt(t,p,n);b[n]?b[n].p(e,o):(b[n]=jt(o),b[n].c(),b[n].m(g,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=p.length}e.monthSelectorOpen&&F(g,"open",t.monthSelectorOpen)},i:n,o:n,d(e){e&&S(t),x(b,e),s(m)}}}function Ft(e,t,n){const o=G();let r,{month:a}=t,{start:i}=t,{end:s}=t,{year:l}=t,{canIncrementMonth:c}=t,{canDecrementMonth:d}=t,u=!1;function h(){n("monthSelectorOpen",u=!u)}function f(e,t){e.stopPropagation(),o("monthSelected",t),h()}return e.$set=(e=>{"month"in e&&n("month",a=e.month),"start"in e&&n("start",i=e.start),"end"in e&&n("end",s=e.end),"year"in e&&n("year",l=e.year),"canIncrementMonth"in e&&n("canIncrementMonth",c=e.canIncrementMonth),"canDecrementMonth"in e&&n("canDecrementMonth",d=e.canDecrementMonth)}),e.$$.update=((e={start:1,year:1,end:1})=>{if(e.start||e.year||e.end){let e=i.getFullYear()===l,t=s.getFullYear()===l;n("availableMonths",r=Tt.map((n,o)=>Object.assign({},n,{selectable:!e&&!t||(!e||o>=i.getMonth())&&(!t||o<=s.getMonth())})))}}),{dispatch:o,month:a,start:i,end:s,year:l,canIncrementMonth:c,canDecrementMonth:d,monthSelectorOpen:u,availableMonths:r,toggleMonthSelectorOpen:h,monthSelected:f,click_handler:()=>o("incrementMonth",-1),click_handler_1:()=>o("incrementMonth",1),click_handler_2:({index:e},t)=>f(t,e)}}class Rt extends we{constructor(e){super(),Me(this,e,Ft,Lt,c,{month:0,start:0,end:0,year:0,canIncrementMonth:0,canDecrementMonth:0})}}const{window:Ht}=ye,Nt=()=>({}),Yt=()=>({}),At=()=>({}),Pt=()=>({});function Jt(e){let t,n,o,r,a,i,l,c;ne(e.onwindowresize);const f=e.$$slots.trigger,g=d(f,e,Pt),m=e.$$slots.contents,y=d(m,e,Yt);return{c(){t=_("div"),n=_("div"),g&&g.c(),o=O(),r=_("div"),a=_("div"),i=_("div"),y&&y.c(),E(n,"class","trigger"),E(i,"class","contents-inner svelte-mc1z8c"),E(a,"class","contents svelte-mc1z8c"),E(r,"class","contents-wrapper svelte-mc1z8c"),L(r,"transform","translate(-50%,-50%) translate("+e.translateX+"px, "+e.translateY+"px)"),F(r,"visible",e.open),F(r,"shrink",e.shrink),E(t,"class","sc-popover svelte-mc1z8c"),c=[I(Ht,"resize",e.onwindowresize),I(n,"click",e.doOpen)]},m(s,c){C(s,t,c),w(t,n),g&&g.m(n,null),e.div0_binding(n),w(t,o),w(t,r),w(r,a),w(a,i),y&&y.m(i,null),e.div2_binding(a),e.div3_binding(r),e.div4_binding(t),l=!0},p(e,t){g&&g.p&&e.$$scope&&g.p(h(f,t,e,At),u(f,t,Pt)),y&&y.p&&e.$$scope&&y.p(h(m,t,e,Nt),u(m,t,Yt)),(!l||e.translateX||e.translateY)&&L(r,"transform","translate(-50%,-50%) translate("+t.translateX+"px, "+t.translateY+"px)"),e.open&&F(r,"visible",t.open),e.shrink&&F(r,"shrink",t.shrink)},i(e){l||(he(g,e),he(y,e),l=!0)},o(e){fe(g,e),fe(y,e),l=!1},d(n){n&&S(t),g&&g.d(n),e.div0_binding(null),y&&y.d(n),e.div2_binding(null),e.div3_binding(null),e.div4_binding(null),s(c)}}}function qt(e,t,n){const o=G();let r,a,i,s,l,c=(e,t,n)=>{e.addEventListener(t,function o(){n.apply(this,arguments),e.removeEventListener(t,o)})},d=0,u=0,{open:h=!1}=t,{shrink:f}=t,{trigger:g}=t;const m=()=>{n("shrink",f=!0),c(s,"animationend",()=>{n("shrink",f=!1),n("open",h=!1),o("closed")})};function y(e){if(!h)return;let t=e.target;do{if(t===r)return}while(t=t.parentNode);m()}z(()=>{if(document.addEventListener("click",y),g)return i.appendChild(g.parentNode.removeChild(g)),()=>{document.removeEventListener("click",y)}});const p=async()=>{h||n("open",h=!0),await(te(),Z);let e=l.getBoundingClientRect();return{top:e.top+-1*d,bottom:window.innerHeight-e.bottom+d,left:e.left+-1*u,right:document.body.clientWidth-e.right+u}};let{$$slots:b={},$$scope:v}=t;return e.$set=(e=>{"open"in e&&n("open",h=e.open),"shrink"in e&&n("shrink",f=e.shrink),"trigger"in e&&n("trigger",g=e.trigger),"$$scope"in e&&n("$$scope",v=e.$$scope)}),{popover:r,w:a,triggerContainer:i,contentsAnimated:s,contentsWrapper:l,translateY:d,translateX:u,open:h,shrink:f,trigger:g,close:m,doOpen:async()=>{const{x:e,y:t}=await(async()=>{let e,t,n=await p();return t=a<480?n.bottom:n.top<0?Math.abs(n.top):n.bottom<0?n.bottom:0,{x:e=n.left<0?Math.abs(n.left):n.right<0?n.right:0,y:t}})();n("translateX",u=e),n("translateY",d=t),n("open",h=!0),o("opened")},onwindowresize:function(){n("w",a=Ht.innerWidth)},div0_binding:function(e){X[e?"unshift":"push"](()=>{n("triggerContainer",i=e)})},div2_binding:function(e){X[e?"unshift":"push"](()=>{n("contentsAnimated",s=e)})},div3_binding:function(e){X[e?"unshift":"push"](()=>{n("contentsWrapper",l=e)})},div4_binding:function(e){X[e?"unshift":"push"](()=>{n("popover",r=e)})},$$slots:b,$$scope:v}}class Wt extends we{constructor(e){super(),Me(this,e,qt,Jt,c,{open:0,shrink:0,trigger:0,close:0})}get close(){return this.$$.ctx.close}}const zt=(e,t,n)=>e.replace(new RegExp("#{"+t+"}","g"),n),Gt=function(e,t,n){if(e=e.toString(),void 0===t)return e;if(e.length==t)return e;if(n=void 0!==n&&n,e.length<t)for(;t-e.length>0;)e="0"+e;else e.length>t&&(e=n?e.substring(e.length-t):e.substring(0,t));return e};let Ut={daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"]};var Xt=[{key:"d",method:function(e){return Gt(e.getDate(),2)}},{key:"D",method:function(e){return Gt(Ut.daysOfWeek[e.getDay()],3)}},{key:"j",method:function(e){return e.getDate()}},{key:"l",method:function(e){return Ut.daysOfWeek[e.getDay()]}},{key:"F",method:function(e){return Ut.monthsOfYear[e.getMonth()]}},{key:"m",method:function(e){return Gt(e.getMonth()+1,2)}},{key:"M",method:function(e){return Gt(Ut.monthsOfYear[e.getMonth()],3)}},{key:"n",method:function(e){return e.getMonth()+1}},{key:"Y",method:function(e){return e.getFullYear()}},{key:"y",method:function(e){return Gt(e.getFullYear(),2,!0)}}],Kt=[{key:"a",method:function(e){return e.getHours()>11?"pm":"am"}},{key:"A",method:function(e){return e.getHours()>11?"PM":"AM"}},{key:"g",method:function(e){return e.getHours()%12||12}},{key:"G",method:function(e){return e.getHours()}},{key:"h",method:function(e){return Gt(e.getHours()%12||12,2)}},{key:"H",method:function(e){return Gt(e.getHours(),2)}},{key:"i",method:function(e){return Gt(e.getMinutes(),2)}},{key:"s",method:function(e){return Gt(e.getSeconds(),2)}}];const Vt=(e,t="#{m}/#{d}/#{Y}")=>(Xt.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=zt(t,n.key,n.method(e)))}),Kt.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=zt(t,n.key,n.method(e)))}),t),Zt={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},Qt=Object.keys(Zt).map(e=>Zt[e]);function en(e,t,n){const o=Object.create(e);return o.day=t[n],o}function tn(e){let t,n;return{c(){t=_("button"),n=D(e.formattedSelected),E(t,"class","calendar-button svelte-1lorc63"),E(t,"type","button")},m(e,o){C(e,t,o),w(t,n)},p(e,t){e.formattedSelected&&j(n,t.formattedSelected)},d(e){e&&S(t)}}}function nn(e){let t,n;const o=e.$$slots.default,r=d(o,e,null);let a=!e.trigger&&tn(e);return{c(){t=_("div"),r||a&&a.c(),r&&r.c(),E(t,"slot","trigger"),E(t,"class","svelte-1lorc63")},m(e,o){C(e,t,o),r||a&&a.m(t,null),r&&r.m(t,null),n=!0},p(e,n){r||(n.trigger?a&&(a.d(1),a=null):a?a.p(e,n):((a=tn(n)).c(),a.m(t,null))),r&&r.p&&e.$$scope&&r.p(h(o,n,e,null),u(o,n,null))},i(e){n||(he(r,e),n=!0)},o(e){fe(r,e),n=!1},d(e){e&&S(t),r||a&&a.d(),r&&r.d(e)}}}function on(e){let t,o,r=e.day.abbrev+"";return{c(){t=_("span"),o=D(r),E(t,"class","svelte-1lorc63")},m(e,n){C(e,t,n),w(t,o)},p:n,d(e){e&&S(t)}}}function rn(e){let t,n,o,r,a,i;const s=new Rt({props:{month:e.month,year:e.year,start:e.start,end:e.end,canIncrementMonth:e.canIncrementMonth,canDecrementMonth:e.canDecrementMonth}});s.$on("monthSelected",e.monthSelected_handler),s.$on("incrementMonth",e.incrementMonth_handler);let l=It,c=[];for(let t=0;t<l.length;t+=1)c[t]=on(en(e,l,t));const d=new Ot({props:{visibleMonth:e.visibleMonth,selected:e.selected,highlighted:e.highlighted,shouldShakeDate:e.shouldShakeDate,start:e.start,end:e.end,id:e.visibleMonthId}});return d.$on("dateSelected",e.dateSelected_handler),{c(){t=_("div"),n=_("div"),ve(s.$$.fragment),o=O(),r=_("div");for(let e=0;e<c.length;e+=1)c[e].c();a=O(),ve(d.$$.fragment),E(r,"class","legend svelte-1lorc63"),E(n,"class","calendar svelte-1lorc63"),E(t,"slot","contents"),E(t,"class","svelte-1lorc63")},m(e,l){C(e,t,l),w(t,n),ke(s,n,null),w(n,o),w(n,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);w(n,a),ke(d,n,null),i=!0},p(e,t){const n={};if(e.month&&(n.month=t.month),e.year&&(n.year=t.year),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.canIncrementMonth&&(n.canIncrementMonth=t.canIncrementMonth),e.canDecrementMonth&&(n.canDecrementMonth=t.canDecrementMonth),s.$set(n),e.dayDict){let n;for(l=It,n=0;n<l.length;n+=1){const o=en(t,l,n);c[n]?c[n].p(e,o):(c[n]=on(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}const o={};e.visibleMonth&&(o.visibleMonth=t.visibleMonth),e.selected&&(o.selected=t.selected),e.highlighted&&(o.highlighted=t.highlighted),e.shouldShakeDate&&(o.shouldShakeDate=t.shouldShakeDate),e.start&&(o.start=t.start),e.end&&(o.end=t.end),e.visibleMonthId&&(o.id=t.visibleMonthId),d.$set(o)},i(e){i||(he(s.$$.fragment,e),he(d.$$.fragment,e),i=!0)},o(e){fe(s.$$.fragment,e),fe(d.$$.fragment,e),i=!1},d(e){e&&S(t),$e(s),x(c,e),$e(d)}}}function an(e){let t;return{c(){t=O()},m(e,n){C(e,t,n)},p:n,i:n,o:n,d(e){e&&S(t)}}}function sn(e){let t,n,o,r;function a(t){e.popover_1_open_binding.call(null,t)}function i(t){e.popover_1_shrink_binding.call(null,t)}let s={trigger:e.trigger,$$slots:{default:[an],contents:[rn],trigger:[nn]},$$scope:{ctx:e}};void 0!==e.isOpen&&(s.open=e.isOpen),void 0!==e.isClosing&&(s.shrink=e.isClosing);const l=new Wt({props:s});return e.popover_1_binding(l),X.push(()=>be(l,"open",a)),X.push(()=>be(l,"shrink",i)),l.$on("opened",e.registerOpen),l.$on("closed",e.registerClose),{c(){t=_("div"),ve(l.$$.fragment),E(t,"class","datepicker svelte-1lorc63"),L(t,"--button-background-color",e.buttonBackgroundColor),L(t,"--button-border-color",e.buttonBorderColor),L(t,"--button-text-color",e.buttonTextColor),L(t,"--highlight-color",e.highlightColor),L(t,"--day-background-color",e.dayBackgroundColor),L(t,"--day-text-color",e.dayTextColor),L(t,"--day-highlighted-background-color",e.dayHighlightedBackgroundColor),L(t,"--day-highlighted-text-color",e.dayHighlightedTextColor),F(t,"open",e.isOpen),F(t,"closing",e.isClosing)},m(e,n){C(e,t,n),ke(l,t,null),r=!0},p(e,a){const i={};e.trigger&&(i.trigger=a.trigger),(e.$$scope||e.visibleMonth||e.selected||e.highlighted||e.shouldShakeDate||e.start||e.end||e.visibleMonthId||e.month||e.year||e.canIncrementMonth||e.canDecrementMonth||e.trigger||e.formattedSelected)&&(i.$$scope={changed:e,ctx:a}),!n&&e.isOpen&&(n=!0,i.open=a.isOpen,oe(()=>n=!1)),!o&&e.isClosing&&(o=!0,i.shrink=a.isClosing,oe(()=>o=!1)),l.$set(i),r&&!e.buttonBackgroundColor||L(t,"--button-background-color",a.buttonBackgroundColor),r&&!e.buttonBorderColor||L(t,"--button-border-color",a.buttonBorderColor),r&&!e.buttonTextColor||L(t,"--button-text-color",a.buttonTextColor),r&&!e.highlightColor||L(t,"--highlight-color",a.highlightColor),r&&!e.dayBackgroundColor||L(t,"--day-background-color",a.dayBackgroundColor),r&&!e.dayTextColor||L(t,"--day-text-color",a.dayTextColor),r&&!e.dayHighlightedBackgroundColor||L(t,"--day-highlighted-background-color",a.dayHighlightedBackgroundColor),r&&!e.dayHighlightedTextColor||L(t,"--day-highlighted-text-color",a.dayHighlightedTextColor),e.isOpen&&F(t,"open",a.isOpen),e.isClosing&&F(t,"closing",a.isClosing)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){fe(l.$$.fragment,e),r=!1},d(n){n&&S(t),e.popover_1_binding(null),$e(l)}}}function ln(e,t,n){const o=G(),r=new Date;let a,i,{format:s="#{m}/#{d}/#{Y}"}=t,{start:l=new Date(1987,9,29)}=t,{end:c=new Date(2020,9,29)}=t,{selected:d=r}=t,{dateChosen:u=!1}=t,{trigger:h=null}=t,{selectableCallback:f=null}=t,g=r,m=!1,y=r.getMonth(),p=r.getFullYear(),b=!1,v=!1;r.setHours(0,0,0,0);let k=0,{formattedSelected:$}=t;function M(e){n("month",y=e)}function w(e,t){if(1===e&&!U)return;if(-1===e&&!K)return;let o=new Date(p,y,1);o.setMonth(o.getMonth()+e),n("month",y=o.getMonth()),n("year",p=o.getFullYear()),n("highlighted",g=new Date(p,y,t||1))}function C(e){return n("highlighted",g=new Date(g)),g.setDate(g.getDate()+e),e>0&&g>q?w(1,g.getDate()):e<0&&g<W?w(-1,g.getDate()):g}function S(e){const t=function(e,t){for(let n=0;n<e.weeks.length;n+=1)for(let o=0;o<e.weeks[n].days.length;o+=1)if(yt(e.weeks[n].days[o].date,t))return e.weeks[n].days[o];return null}(P,e);return!!t&&t.selectable}function x(e){!function(e){h&&n("trigger",h.innerHTML=e,h)}(e)}function _(e){return S(e)?(T(),n("selected",d=e),n("dateChosen",u=!0),x($),o("dateSelected",{date:e})):(t=e,clearTimeout(i),n("shouldShakeDate",m=t),void(i=setTimeout(()=>{n("shouldShakeDate",m=!1)},700)));var t}function D(e){if(-1!==Qt.indexOf(e.keyCode))switch(e.preventDefault(),e.keyCode){case Zt.left:C(-1);break;case Zt.up:C(-7);break;case Zt.right:C(1);break;case Zt.down:C(7);break;case Zt.pgup:w(-1);break;case Zt.pgdown:w(1);break;case Zt.escape:T();break;case Zt.enter:_(g)}}function O(){document.removeEventListener("keydown",D),o("close")}function T(){a.close(),O()}z(()=>{n("month",y=d.getMonth()),n("year",p=d.getFullYear())});let{buttonBackgroundColor:I="#fff"}=t,{buttonBorderColor:E="#eee"}=t,{buttonTextColor:B="#333"}=t,{highlightColor:j="#f7901e"}=t,{dayBackgroundColor:L="none"}=t,{dayTextColor:F="#4a4a4a"}=t,{dayHighlightedBackgroundColor:R="#efefef"}=t,{dayHighlightedTextColor:H="#4a4a4a"}=t,{$$slots:N={},$$scope:Y}=t;let A,P,J,q,W,U,K;return e.$set=(e=>{"format"in e&&n("format",s=e.format),"start"in e&&n("start",l=e.start),"end"in e&&n("end",c=e.end),"selected"in e&&n("selected",d=e.selected),"dateChosen"in e&&n("dateChosen",u=e.dateChosen),"trigger"in e&&n("trigger",h=e.trigger),"selectableCallback"in e&&n("selectableCallback",f=e.selectableCallback),"formattedSelected"in e&&n("formattedSelected",$=e.formattedSelected),"buttonBackgroundColor"in e&&n("buttonBackgroundColor",I=e.buttonBackgroundColor),"buttonBorderColor"in e&&n("buttonBorderColor",E=e.buttonBorderColor),"buttonTextColor"in e&&n("buttonTextColor",B=e.buttonTextColor),"highlightColor"in e&&n("highlightColor",j=e.highlightColor),"dayBackgroundColor"in e&&n("dayBackgroundColor",L=e.dayBackgroundColor),"dayTextColor"in e&&n("dayTextColor",F=e.dayTextColor),"dayHighlightedBackgroundColor"in e&&n("dayHighlightedBackgroundColor",R=e.dayHighlightedBackgroundColor),"dayHighlightedTextColor"in e&&n("dayHighlightedTextColor",H=e.dayHighlightedTextColor),"$$scope"in e&&n("$$scope",Y=e.$$scope)}),e.$$.update=((e={start:1,end:1,selectableCallback:1,months:1,i:1,month:1,year:1,monthIndex:1,visibleMonth:1,format:1,selected:1})=>{if((e.start||e.end||e.selectableCallback)&&n("months",A=function(e,t,n=null){e.setHours(0,0,0,0),t.setHours(0,0,0,0);let o=new Date(t.getFullYear(),t.getMonth()+1,1),r=[],a=new Date(e.getFullYear(),e.getMonth(),1),i=mt(e,t,n);for(;a<o;)r.push(gt(a.getMonth(),a.getFullYear(),i)),a.setMonth(a.getMonth()+1);return r}(l,c,f)),e.months||e.month||e.year){n("monthIndex",k=0);for(let e=0;e<A.length;e+=1)A[e].month===y&&A[e].year===p&&n("monthIndex",k=e)}(e.months||e.monthIndex)&&n("visibleMonth",P=A[k]),(e.year||e.month)&&n("visibleMonthId",J=p+y/100),e.visibleMonth&&(q=P.weeks[P.weeks.length-1].days[6].date),e.visibleMonth&&(W=P.weeks[0].days[0].date),(e.monthIndex||e.months)&&n("canIncrementMonth",U=k<A.length-1),e.monthIndex&&n("canDecrementMonth",K=k>0),(e.format||e.selected)&&n("formattedSelected",$="function"==typeof s?s(d):Vt(d,s))}),{popover:a,format:s,start:l,end:c,selected:d,dateChosen:u,trigger:h,selectableCallback:f,highlighted:g,shouldShakeDate:m,month:y,year:p,isOpen:b,isClosing:v,formattedSelected:$,changeMonth:M,incrementMonth:w,registerSelection:_,registerClose:O,registerOpen:function(){n("highlighted",g=new Date(d)),n("month",y=d.getMonth()),n("year",p=d.getFullYear()),document.addEventListener("keydown",D),o("open")},buttonBackgroundColor:I,buttonBorderColor:E,buttonTextColor:B,highlightColor:j,dayBackgroundColor:L,dayTextColor:F,dayHighlightedBackgroundColor:R,dayHighlightedTextColor:H,visibleMonth:P,visibleMonthId:J,canIncrementMonth:U,canDecrementMonth:K,monthSelected_handler:e=>M(e.detail),incrementMonth_handler:e=>w(e.detail),dateSelected_handler:e=>_(e.detail),popover_1_binding:function(e){X[e?"unshift":"push"](()=>{n("popover",a=e)})},popover_1_open_binding:function(e){n("isOpen",b=e)},popover_1_shrink_binding:function(e){n("isClosing",v=e)},$$slots:N,$$scope:Y}}class cn extends we{constructor(e){super(),Me(this,e,ln,sn,c,{format:0,start:0,end:0,selected:0,dateChosen:0,trigger:0,selectableCallback:0,formattedSelected:0,buttonBackgroundColor:0,buttonBorderColor:0,buttonTextColor:0,highlightColor:0,dayBackgroundColor:0,dayTextColor:0,dayHighlightedBackgroundColor:0,dayHighlightedTextColor:0})}}function dn(e){const{year:t,month:n,day:o}=Object.assign(function(){const e=new Date;return{year:e.getFullYear().toString(),month:e.getMonth()+1,day:e.getDate()}}(),e);let r=""+t,a=""+n,i=""+o;return 1===i.length&&(i="0"+i),1===a.length&&(a="0"+a),a+"/"+i+"/"+r}function un(e){const[t,n,o]=e.split("/").map(e=>+e);return{year:o,month:t,day:n}}const{Object:hn}=ye;function fn(e,t,n){const o=hn.create(e);return o.r=t[n],o}function gn(e,t,n){const o=hn.create(e);return o.serviceType=t[n][0],o.readings=t[n][1],o}function mn(e,t,n){const o=hn.create(e);return o.saint=t[n],o}function yn(e){let t,n,o,r,a,i=e.r.reading+"",s=e.r.pericope+"";return{c(){t=_("li"),n=D(i),o=O(),r=D(s),E(t,"class",a=f(e.cls)+" svelte-scmyne")},m(e,a){C(e,t,a),w(t,n),w(t,o),w(t,r)},p(e,o){e.p&&i!==(i=o.r.reading+"")&&j(n,i),e.p&&s!==(s=o.r.pericope+"")&&j(r,s),e.cls&&a!==(a=f(o.cls)+" svelte-scmyne")&&E(t,"class",a)},d(e){e&&S(t)}}}function pn(e){let t,n,o,r,a,i,s,l,c=e.t(e.serviceType)+"",d=e.readings,u=[];for(let t=0;t<d.length;t+=1)u[t]=yn(fn(e,d,t));return{c(){t=_("li"),n=D(c),o=O(),r=_("ul");for(let e=0;e<u.length;e+=1)u[e].c();a=O(),i=_("ul"),s=O(),E(i,"class","svelte-scmyne"),E(r,"class","svelte-scmyne"),E(t,"class",l=f(e.cls)+" svelte-scmyne")},m(e,l){C(e,t,l),w(t,n),w(t,o),w(t,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null);w(r,a),w(r,i),w(r,s)},p(e,o){if((e.t||e.p)&&c!==(c=o.t(o.serviceType)+"")&&j(n,c),e.cls||e.activeReadings||e.p){let t;for(d=o.readings,t=0;t<d.length;t+=1){const n=fn(o,d,t);u[t]?u[t].p(e,n):(u[t]=yn(n),u[t].c(),u[t].m(r,a))}for(;t<u.length;t+=1)u[t].d(1);u.length=d.length}e.cls&&l!==(l=f(o.cls)+" svelte-scmyne")&&E(t,"class",l)},d(e){e&&S(t),x(u,e)}}}function bn(e){let t,n,o,r,a,i,s,l,c,d=Mn(e.saint.type).text+"",u=$n(e.saint.name)+"",h=[...kn(e.saint.readings)],g=[];for(let t=0;t<h.length;t+=1)g[t]=pn(gn(e,h,t));return{c(){t=_("li"),n=_("span"),o=D(d),r=O(),i=O(),s=_("ul");for(let e=0;e<g.length;e+=1)g[e].c();l=O(),E(n,"class","marker svelte-scmyne"),F(n,"red",Mn(e.saint.type).red),a=new H(u,i),E(s,"class","svelte-scmyne"),E(t,"class",c=f(e.cls)+" svelte-scmyne")},m(e,c){C(e,t,c),w(t,n),w(n,o),w(t,r),a.m(t),w(t,i),w(t,s);for(let e=0;e<g.length;e+=1)g[e].m(s,null);w(t,l)},p(e,r){if(e.p&&d!==(d=Mn(r.saint.type).text+"")&&j(o,d),(e.getMarker||e.p)&&F(n,"red",Mn(r.saint.type).red),e.p&&u!==(u=$n(r.saint.name)+"")&&a.p(u),e.cls||e.activeReadings||e.p||e.t){let t;for(h=[...kn(r.saint.readings)],t=0;t<h.length;t+=1){const n=gn(r,h,t);g[t]?g[t].p(e,n):(g[t]=pn(n),g[t].c(),g[t].m(s,null))}for(;t<g.length;t+=1)g[t].d(1);g.length=h.length}e.cls&&c!==(c=f(r.cls)+" svelte-scmyne")&&E(t,"class",c)},d(e){e&&S(t),x(g,e)}}}function vn(e){let t,o,a,i,s,l,c,d,u,h,g,m=e.t("fasting_"+e.p.fastingCode)+"",y=e.t("tone_"+e.p.tone)+"",p=[{class:"icon"},{alt:""},wn(e.db,e.p.saints)],b={};for(let e=0;e<p.length;e+=1)b=r(b,p[e]);let v=e.p.saints,k=[];for(let t=0;t<v.length;t+=1)k[t]=bn(mn(e,v,t));return{c(){t=_("div"),o=_("p"),a=D(m),i=O(),s=_("br"),l=D(y),d=O(),u=_("img"),h=O(),g=_("ul");for(let e=0;e<k.length;e+=1)k[e].c();E(o,"class",c=f(e.cls)+" svelte-scmyne"),B(u,b),F(u,"svelte-scmyne",!0),E(g,"class","svelte-scmyne")},m(e,n){C(e,t,n),w(t,o),w(o,a),w(o,i),w(o,s),w(o,l),w(t,d),w(t,u),w(t,h),w(t,g);for(let e=0;e<k.length;e+=1)k[e].m(g,null)},p(e,t){if((e.t||e.p)&&m!==(m=t.t("fasting_"+t.p.fastingCode)+"")&&j(a,m),(e.t||e.p)&&y!==(y=t.t("tone_"+t.p.tone)+"")&&j(l,y),e.cls&&c!==(c=f(t.cls)+" svelte-scmyne")&&E(o,"class",c),B(u,function(e,t){const n={},o={},r={$$scope:1};let a=e.length;for(;a--;){const i=e[a],s=t[a];if(s){for(const e in i)e in s||(o[e]=1);for(const e in s)r[e]||(n[e]=s[e],r[e]=1);e[a]=s}else for(const e in i)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(p,[{class:"icon"},{alt:""},(e.chooseIcon||e.db||e.p)&&wn(t.db,t.p.saints)])),F(u,"svelte-scmyne",!0),e.cls||e.activeReadings||e.p||e.t||e.formatName||e.getMarker){let n;for(v=t.p.saints,n=0;n<v.length;n+=1){const o=mn(t,v,n);k[n]?k[n].p(e,o):(k[n]=bn(o),k[n].c(),k[n].m(g,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=v.length}},i:n,o:n,d(e){e&&S(t),x(k,e)}}}function*kn(e){if(e)for(const t of Object.keys(e).sort())e[t]&&e[t].length>0&&(console.log(e[t],t),yield[t,e[t]])}function $n(e){return e?e.Nominative?e.Nominative:e.Short?e.short:"":""}function Mn(e){switch(+e){case 1:return{text:"✺",red:!1};case 2:return{text:"🕃",red:!1};case 3:return{text:"🕃",red:!0};case 4:return{text:"🕂",red:!0};case 5:return{text:"🕁",red:!0};case 6:case 7:case 8:return{text:"🕀",red:!0};default:return{text:"·",red:!1}}}function wn(e,t){const n=[];if(void 0!==t)for(const o of t)for(const t of e.icons(o.cid,["cu","cu/ru","el","en"]))n.push({...t,saint:o.name||{}});if(0===n.length)for(const t of e.icons(979,["cu","cu/ru","el","en"]))n.push({...t,saint:{}});const o=Math.floor(Math.random()*n.length);return console.log(n[0]),{src:"dbIcons/"+n[o].name,alt:n[o].saint.Short,title:n[o].saint.Short}}function Cn(e,t,n){let o,{db:r}=t,{date:a}=t,{t:i}=t,{cls:s}=t;return console.log(r),e.$set=(e=>{"db"in e&&n("db",r=e.db),"date"in e&&n("date",a=e.date),"t"in e&&n("t",i=e.t),"cls"in e&&n("cls",s=e.cls)}),e.$$.update=((e={db:1,date:1})=>{(e.db||e.date)&&n("p",o=new ct(r,a))}),{db:r,date:a,t:i,cls:s,p:o}}class Sn extends we{constructor(e){super(),Me(this,e,Cn,vn,c,{db:0,date:0,t:0,cls:0})}}const xn={Ponomar:{cu:"Смiре́нный понома́рь",ru:"Пономарь",en:"Ponomar"},fasting_0000000:{cu:"Пост (ничего́ не ядим-с)",ru:"Пост (ничего́ не ядим-с)",en:"No food"},fasting_0000001:{cu:"Сухоя́дение"},fasting_0000111:{cu:"Вино и еле́й позволя́ются"},fasting_0011111:{cu:"Ры́ба, вино́, еле́й"},fasting_1111111:{cu:"Поста нетъ"},tone_8:{cu:"Гла́съ осьмы́й"},tone_4:{cu:"Гла́съ четве́ртый"},tone_5:{cu:"Гла́съ пя́тый"},tone_6:{cu:"Гла́съ шесты́й"},liturgy:{cu:"Божественная литурги́я",ru:"Литургия",en:"Liturgy"},matins:{cu:"Утреня",ru:"Утреня",en:"Matins"},vespers:{cu:"Все́нощная"},none:{cu:"Ча́съ девя́тый"},prime:{cu:"Ча́съ пе́рвый"},terce:{cu:"Ча́съ тре́тий"},sexte:{cu:"Ча́съ шесты́й"},Acts:{},Baruch:{},Col:{},Dan:{},Deut:{},Eph:{},Ex:{},Ezek:{},Gal:{},Gen:{},Heb:{},"I Cor":{},"I Jn":{},"I Pet":{},"I Thess":{},"I Tim":{},"II Cor":{},"II Jn":{},"II Pet":{},"II Thess":{},"II Tim":{},"III Jn":{},"III Kings":{},"IV Kings":{},Isa:{},Jas:{},Jerem:{},Jn:{},Job:{},Joel:{},Jona:{},Josh:{},Jude:{},Judg:{},Lev:{},Lk:{},Mal:{},Mica:{},Mk:{},Mt:{},Num:{},Philemon:{},Philip:{},Prov:{},Rom:{},Tit:{},Wisd:{},Zech:{},Zeph:{}};function _n(e){return t=>xn[t]&&xn[t][e]?xn[t][e]:"!!!***!!! "+t+" !!!***!!!"}function Dn(e){let t,n;return{c(){t=_("button"),n=D(e.dateSelected),E(t,"class","custom-button")},m(e,o){C(e,t,o),w(t,n)},p(e,t){e.dateSelected&&j(n,t.dateSelected)},d(e){e&&S(t)}}}function On(e){let t,o,r=e.error.message+"";return{c(){t=_("p"),o=D(r),L(t,"color","red")},m(e,n){C(e,t,n),w(t,o)},p(e,t){e.db&&r!==(r=t.error.message+"")&&j(o,r)},i:n,o:n,d(e){e&&S(t)}}}function Tn(e){let t;const n=new Sn({props:{db:e.val,date:e.jdate,t:e.t,cls:e.cls}});return{c(){ve(n.$$.fragment)},m(e,o){ke(n,e,o),t=!0},p(e,t){const o={};e.db&&(o.db=t.val),e.jdate&&(o.date=t.jdate),e.t&&(o.t=t.t),e.cls&&(o.cls=t.cls),n.$set(o)},i(e){t||(he(n.$$.fragment,e),t=!0)},o(e){fe(n.$$.fragment,e),t=!1},d(e){$e(n,e)}}}function In(e){let t;return{c(){t=D("Loading...")},m(e,n){C(e,t,n)},p:n,i:n,o:n,d(e){e&&S(t)}}}function En(e){let t,n,o,a,i,l,c,d,u,h,f,g,m,y,p,b,v,k,$,M,x,B=e.t("Ponomar")+"",L=e.t("next day")+"",F=e.t("prev day")+"";function R(t){e.datepicker_formattedSelected_binding.call(null,t)}let H={dateChosen:!0,$$slots:{default:[Dn]},$$scope:{ctx:e}};void 0!==e.dateSelected&&(H.formattedSelected=e.dateSelected);const N=new cn({props:H});X.push(()=>be(N,"formattedSelected",R));let Y={ctx:e,current:null,token:null,pending:In,then:Tn,catch:On,value:"val",error:"error",blocks:[,,,]};return me($=e.db,Y),{c(){t=_("h1"),n=D(B),o=O(),(a=_("button")).textContent="cu",i=O(),(l=_("button")).textContent="ru",c=O(),(d=_("button")).textContent="en",u=O(),ve(N.$$.fragment),f=O(),g=_("button"),m=D(L),y=O(),p=_("button"),b=D(F),v=O(),k=T(),Y.block.c(),E(t,"class",e.cls),x=[I(a,"click",e.click_handler),I(l,"click",e.click_handler_1),I(d,"click",e.click_handler_2),I(g,"click",e.click_handler_3),I(p,"click",e.click_handler_4)]},m(e,r){C(e,t,r),w(t,n),C(e,o,r),C(e,a,r),C(e,i,r),C(e,l,r),C(e,c,r),C(e,d,r),C(e,u,r),ke(N,e,r),C(e,f,r),C(e,g,r),w(g,m),C(e,y,r),C(e,p,r),w(p,b),C(e,v,r),C(e,k,r),Y.block.m(e,Y.anchor=r),Y.mount=(()=>k.parentNode),Y.anchor=k,M=!0},p(o,a){e=a,M&&!o.t||B===(B=e.t("Ponomar")+"")||j(n,B),M&&!o.cls||E(t,"class",e.cls);const i={};(o.$$scope||o.dateSelected)&&(i.$$scope={changed:o,ctx:e}),!h&&o.dateSelected&&(h=!0,i.formattedSelected=e.dateSelected,oe(()=>h=!1)),N.$set(i),M&&!o.t||L===(L=e.t("next day")+"")||j(m,L),M&&!o.t||F===(F=e.t("prev day")+"")||j(b,F),Y.ctx=e,o.db&&$!==($=e.db)&&me($,Y)||Y.block.p(o,r(r({},e),Y.resolved))},i(e){M||(he(N.$$.fragment,e),he(Y.block),M=!0)},o(e){fe(N.$$.fragment,e);for(let e=0;e<3;e+=1){fe(Y.blocks[e])}M=!1},d(e){e&&S(t),e&&S(o),e&&S(a),e&&S(i),e&&S(l),e&&S(c),e&&S(d),e&&S(u),$e(N,e),e&&S(f),e&&S(g),e&&S(y),e&&S(p),e&&S(v),e&&S(k),Y.block.d(e),Y.token=null,Y=null,s(x)}}}async function Bn(e){"ru"===e&&(e="cu/ru");const t=await fetch("/db.json"),n=await t.json();return new ft(n).lang(e)}function jn(e,t,n){let o=dn(),{year:r,month:a,day:i}=un(o),s=Re.fromGregorian({year:r,month:a,day:i});function l(e){const{year:t,month:n,day:o}=s.add(e).toGregorian();return`${n}/${o}/${t}`}let c="cu",d=_n("cu");let u="slavonic",h=Bn("cu");return e.$$.update=((e={dateSelected:1,year:1,month:1,day:1,currentLang:1})=>{e.dateSelected&&n("year",({year:r,month:a,day:i}=un(o)),r,(n("month",a),n("dateSelected",o)),(n("day",i),n("dateSelected",o))),(e.year||e.month||e.day)&&n("jdate",s=Re.fromGregorian({year:r,month:a,day:i})),e.currentLang&&n("t",d=_n(c)),e.currentLang&&n("cls",u=function(e){switch(c){case"cu":return"slavonic";case"ru":return"russian";case"en":return"english"}}()),e.currentLang&&(async()=>n("db",h=await Bn(c)))()}),{dateSelected:o,jdate:s,moveDay:l,currentLang:c,t:d,cls:u,db:h,click_handler:()=>n("currentLang",c="cu"),click_handler_1:()=>n("currentLang",c="ru"),click_handler_2:()=>n("currentLang",c="en"),datepicker_formattedSelected_binding:function(e){n("dateSelected",o=e)},click_handler_3:()=>n("dateSelected",o=l(1)),click_handler_4:()=>n("dateSelected",o=l(-1))}}return new class extends we{constructor(e){super(),Me(this,e,jn,En,c,{})}}({target:document.body})}(fs,imageSize);
//# sourceMappingURL=bundle.js.map
