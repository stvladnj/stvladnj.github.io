function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function i(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function a(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(g)}function m(t,e){t.appendChild(e)}function h(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=k("style");return function(t,e){m(t.head||t,e),e.sheet}(h(t),e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.data!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function M(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function q(t,e,n){t.classList[n?"add":"remove"](e)}function D(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(t,n,o,e),c}const I=new Map;let N,C=0;function F(t,e,n,o,c,r,s,l=0){const i=16.666/o;let a="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*r(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=h(t),{stylesheet:p,rules:g}=I.get(f)||function(t,e){const n={stylesheet:$(e),rules:{}};return I.set(t,n),n}(f,t);g[d]||(g[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${d} ${o}ms linear ${c}ms 1 both`,C+=1,d}function A(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),c=n.length-o.length;c&&(t.style.animation=o.join(", "),C-=c,C||f(()=>{C||(I.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)}),I.clear())}))}function L(t){N=t}function T(){if(!N)throw new Error("Function called outside component initialization");return N}function z(){const t=T();return(e,n,{cancelable:o=!1}={})=>{const c=t.$$.callbacks[e];if(c){const r=D(e,n,{cancelable:o});return c.slice().forEach(e=>{e.call(t,r)}),!r.defaultPrevented}return!0}}function j(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const G=[],U=[];let P=[];const R=[],B=Promise.resolve();let J=!1;function Y(t){P.push(t)}function H(t){R.push(t)}const V=new Set;let K,Q=0;function W(){if(0!==Q)return;const t=N;do{try{for(;Q<G.length;){const t=G[Q];Q++,L(t),X(t.$$)}}catch(t){throw G.length=0,Q=0,t}for(L(null),G.length=0,Q=0;U.length;)U.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];V.has(e)||(V.add(e),e())}P.length=0}while(G.length);for(;R.length;)R.pop()();J=!1,V.clear(),L(t)}function X(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function Z(t,e,n){t.dispatchEvent(D(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||c(et.c),et=et.p}function ct(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function rt(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push(()=>{tt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const st={duration:0};function lt(n,o,s,l){const i={direction:"both"};let a=o(n,s,i),u=l?0:1,m=null,h=null,$=null;function y(){$&&A(n,$)}function b(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(o){const{delay:r=0,duration:s=300,easing:l=e,tick:i=t,css:v}=a||st,k={start:d()+r,b:o};o||(k.group=et,et.r+=1),m||h?h=k:(v&&(y(),$=F(n,u,o,s,r,l,v)),o&&i(0,1),m=b(k,s),Y(()=>Z(n,o,"start")),function(t){let e;0===p.size&&f(g),new Promise(n=>{p.add(e={c:t,f:n})})}(t=>{if(h&&t>h.start&&(m=b(h,s),h=null,Z(n,m.b,"start"),v&&(y(),$=F(n,u,m.b,m.duration,0,l,a.css))),m)if(t>=m.end)i(u=m.b,1-u),Z(n,m.b,"end"),h||(m.b?y():--m.group.r||c(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;u=m.a+m.d*l(e/m.duration),i(u,1-u)}return!(!m&&!h)}))}return{run(t){r(a)?(K||(K=Promise.resolve(),K.then(()=>{K=null})),K).then(()=>{a=a(i),v(t)}):v(t)},end(){y(),m=h=null}}}function it(t,e){rt(t,1,1,()=>{e.delete(t.key)})}function at(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function ut(t){t&&t.c()}function dt(t,e,o,s){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,o),s||Y(()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):c(e),t.$$.on_mount=[]}),i.forEach(Y)}function ft(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach(o=>-1===t.indexOf(o)?e.push(o):n.push(o)),n.forEach(t=>t()),P=e}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){-1===t.$$.dirty[0]&&(G.push(t),J||(J=!0,B.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,n,r,s,l,i,a,u=[-1]){const d=N;L(e);const f=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=r?r(e,n.props||{},(t,n,...o)=>{const c=o.length?o[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=c)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](c),p&&pt(e,t)),n}):[],f.update(),p=!0,c(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&ct(e.$$.fragment),dt(e,n.target,n.anchor,n.customElement),W()}L(d)}class mt{$destroy(){ft(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ht(t){const e=t-1;return e*e*e+1}function $t(t,{delay:n=0,duration:o=400,easing:c=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:c,css:t=>"opacity: "+t*r}}function yt(t,{delay:e=0,duration:n=400,easing:o=ht,x:c=0,y:r=0,opacity:s=0}={}){const l=getComputedStyle(t),i=+l.opacity,u="none"===l.transform?"":l.transform,d=i*(1-s),[f,p]=a(c),[g,m]=a(r);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*f}${p}, ${(1-t)*g}${m});\n\t\t\topacity: ${i-d*e}`}}function bt(e){let n,o,r,s,l,i,a,u,d,f,p,g,h,$,v=e[1].toFixed(2)+"";return{c(){n=k("div"),o=k("button"),o.innerHTML='<i class="fa fa-minus"></i>',r=_(),s=k("div"),l=x(e[2]),i=x(" $"),a=x(v),u=x(" ×"),d=k("span"),f=x(e[0]),p=_(),g=k("button"),g.innerHTML='<i class="fa fa-plus"></i>',S(o,"class","btn btn-default btn-sm button-circle svelte-35ueno"),S(d,"class","quantity svelte-35ueno"),S(s,"class","button-title svelte-35ueno"),S(g,"class","btn btn-default btn-sm button-circle svelte-35ueno"),S(n,"class","button-row svelte-35ueno")},m(t,c){y(t,n,c),m(n,o),m(n,r),m(n,s),m(s,l),m(s,i),m(s,a),m(s,u),m(s,d),m(d,f),m(n,p),m(n,g),h||($=[w(o,"click",e[4]),w(g,"click",e[3])],h=!0)},p(t,[e]){4&e&&E(l,t[2]),2&e&&v!==(v=t[1].toFixed(2)+"")&&E(a,v),1&e&&E(f,t[0])},i:t,o:t,d(t){t&&b(n),h=!1,c($)}}}function vt(t,e,n){let{price:o=1}=e,{limit:c=5}=e,{quantity:r=0}=e,{label:s=""}=e;const l=z();return t.$$set=t=>{"price"in t&&n(1,o=t.price),"limit"in t&&n(5,c=t.limit),"quantity"in t&&n(0,r=t.quantity),"label"in t&&n(2,s=t.label)},[r,o,s,()=>{r<c&&(n(0,r+=1),l("quantity"))},()=>{r>0&&(n(0,r-=1),l("quantity"))},c]}class kt extends mt{constructor(t){super(),gt(this,t,vt,bt,s,{price:1,limit:5,quantity:0,label:2})}}function xt(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function _t(t,e,n){const o=t.slice();return o[15]=e[n],o}function wt(t,e){let n,o,c,r,s;return{key:t,first:null,c(){n=k("div"),o=k("img"),i(o.src,c=e[15].image)||S(o,"src",c),M(o,"transform","rotate("+e[15].rotate+"deg)"),S(o,"alt",""),S(o,"class","svelte-n0vah4"),S(n,"class","candle svelte-n0vah4"),M(n,"left",e[15].pos+"%"),M(n,"height",e[15].height),this.first=n},m(t,e){y(t,n,e),m(n,o),s=!0},p(t,r){e=t,(!s||1&r&&!i(o.src,c=e[15].image))&&S(o,"src",c),(!s||1&r)&&M(o,"transform","rotate("+e[15].rotate+"deg)"),(!s||1&r)&&M(n,"left",e[15].pos+"%"),(!s||1&r)&&M(n,"height",e[15].height)},i(t){s||(Y(()=>{s&&(r||(r=lt(n,yt,{y:120,duration:600},!0)),r.run(1))}),s=!0)},o(t){r||(r=lt(n,yt,{y:120,duration:600},!1)),r.run(0),s=!1},d(t){t&&b(n),t&&r&&r.end()}}}function St(t){let e,n,o;function c(e){t[6](e,t[12])}let r={label:t[12].description[t[4]],price:t[12].price,limit:t[12].limit};return void 0!==t[0][t[12].id]&&(r.quantity=t[0][t[12].id]),e=new kt({props:r}),U.push(()=>at(e,"quantity",c)),e.$on("quantity",t[7]),{c(){ut(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p(o,c){t=o;const r={};24&c&&(r.label=t[12].description[t[4]]),8&c&&(r.price=t[12].price),8&c&&(r.limit=t[12].limit),!n&&9&c&&(n=!0,r.quantity=t[0][t[12].id],H(()=>n=!1)),e.$set(r)},i(t){o||(ct(e.$$.fragment,t),o=!0)},o(t){rt(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function Et(t){let e,n,o,r,s,l,a,u,d,f,p=[],g=new Map,h=t[2][t[4]]+"",$=t[5](t[0]);const w=t=>t[15].key;for(let e=0;e<$.length;e+=1){let n=_t(t,$,e),o=w(n);g.set(o,p[e]=wt(o,n))}let O=t[3],M=[];for(let e=0;e<O.length;e+=1)M[e]=St(xt(t,O,e));const q=t=>rt(M[t],1,1,()=>{M[t]=null});return{c(){e=k("div"),n=k("img"),r=_();for(let t=0;t<p.length;t+=1)p[t].c();s=_(),l=k("div"),a=k("div"),u=x(h),d=_();for(let t=0;t<M.length;t+=1)M[t].c();i(n.src,o=t[1])||S(n,"src",o),S(n,"alt",""),S(n,"class","svelte-n0vah4"),S(a,"class","button-title svelte-n0vah4"),S(l,"class","buttons svelte-n0vah4"),S(e,"class","icon svelte-n0vah4")},m(t,o){y(t,e,o),m(e,n),m(e,r);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(e,null);m(e,s),m(e,l),m(l,a),m(a,u),m(l,d);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(l,null);f=!0},p(t,[r]){if((!f||2&r&&!i(n.src,o=t[1]))&&S(n,"src",o),33&r&&($=t[5](t[0]),nt(),p=function(t,e,n,o,r,s,l,i,a,u,d,f){let p=t.length,g=s.length,m=p;const h={};for(;m--;)h[t[m].key]=m;const $=[],y=new Map,b=new Map,v=[];for(m=g;m--;){const t=f(r,s,m),c=n(t);let i=l.get(c);i?o&&v.push(()=>i.p(t,e)):(i=u(c,t),i.c()),y.set(c,$[m]=i),c in h&&b.set(c,Math.abs(m-h[c]))}const k=new Set,x=new Set;function _(t){ct(t,1),t.m(i,d),l.set(t.key,t),d=t.first,g--}for(;p&&g;){const e=$[g-1],n=t[p-1],o=e.key,c=n.key;e===n?(d=e.first,p--,g--):y.has(c)?!l.has(o)||k.has(o)?_(e):x.has(c)?p--:b.get(o)>b.get(c)?(x.add(o),_(e)):(k.add(c),p--):(a(n,l),p--)}for(;p--;){const e=t[p];y.has(e.key)||a(e,l)}for(;g;)_($[g-1]);return c(v),$}(p,r,w,1,t,$,g,e,it,wt,s,_t),ot()),(!f||20&r)&&h!==(h=t[2][t[4]]+"")&&E(u,h),25&r){let e;for(O=t[3],e=0;e<O.length;e+=1){const n=xt(t,O,e);M[e]?(M[e].p(n,r),ct(M[e],1)):(M[e]=St(n),M[e].c(),ct(M[e],1),M[e].m(l,null))}for(nt(),e=O.length;e<M.length;e+=1)q(e);ot()}},i(t){if(!f){for(let t=0;t<$.length;t+=1)ct(p[t]);for(let t=0;t<O.length;t+=1)ct(M[t]);f=!0}},o(t){for(let t=0;t<p.length;t+=1)rt(p[t]);M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)rt(M[t]);f=!1},d(t){t&&b(e);for(let t=0;t<p.length;t+=1)p[t].d();v(M,t)}}}function Ot(t,e,n){let{src:o="icon_theotokos.png"}=e,{name:c="Icon of Theotokos"}=e,{candles:r=[]}=e,{lang:s="en"}=e,{order:l={}}=e;const i=r.reduce((t,e)=>t+e.limit,0),a={};function u(){a.pos=(t=>{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*e),o=t[e];t[e]=t[n],t[n]=o}return t})([...Array(i).keys()]),a.rotation=[...Array(i).keys()].map(()=>10*Math.random()-5)}u();return t.$$set=t=>{"src"in t&&n(1,o=t.src),"name"in t&&n(2,c=t.name),"candles"in t&&n(3,r=t.candles),"lang"in t&&n(4,s=t.lang),"order"in t&&n(0,l=t.order)},[l,o,c,r,s,t=>{const e=[];var n=0;for(const o of r){for(let c=0;c<t[o.id];c++)e.push({image:o.image,pos:100*(.25+a.pos[n+c])/i,height:o.height,rotate:a.rotation[n+c],key:n+c});n+=o.limit}return 0===e.length&&u(),e},function(e,o){t.$$.not_equal(l[o.id],e)&&(l[o.id]=e,n(0,l))},function(e){j.call(this,t,e)}]}class Mt extends mt{constructor(t){super(),gt(this,t,Ot,Et,s,{src:1,name:2,candles:3,lang:4,order:0})}}function qt(e){let n,o,c,r,s,l,i,a,u;return{c(){n=k("label"),o=k("input"),c=_(),r=k("span"),s=_(),l=k("span"),i=x(e[1]),S(o,"type","checkbox"),S(o,"class","svelte-52zyub"),S(r,"class","slider svelte-52zyub"),M(r,"background-color",e[0]?e[2]:"#ccc"),S(n,"class","switch svelte-52zyub"),S(l,"class","label svelte-52zyub"),M(l,"color",e[2])},m(t,d){y(t,n,d),m(n,o),o.checked=e[0],m(n,c),m(n,r),y(t,s,d),y(t,l,d),m(l,i),a||(u=w(o,"change",e[3]),a=!0)},p(t,[e]){1&e&&(o.checked=t[0]),5&e&&M(r,"background-color",t[0]?t[2]:"#ccc"),2&e&&E(i,t[1]),4&e&&M(l,"color",t[2])},i:t,o:t,d(t){t&&b(n),t&&b(s),t&&b(l),a=!1,u()}}}function Dt(t,e,n){let{checked:o=!1}=e,{label:c=""}=e,{color:r="#2196F3"}=e;return t.$$set=t=>{"checked"in t&&n(0,o=t.checked),"label"in t&&n(1,c=t.label),"color"in t&&n(2,r=t.color)},[o,c,r,function(){o=this.checked,n(0,o)}]}class It extends mt{constructor(t){super(),gt(this,t,Dt,qt,s,{checked:0,label:1,color:2})}}function Nt(t){let e,n;return{c(){e=k("img"),i(e.src,n="/img/note-black.png")||S(e,"src","/img/note-black.png"),S(e,"alt",""),S(e,"class","svelte-xnito")},m(t,n){y(t,e,n)},d(t){t&&b(e)}}}function Ct(t){let e,n;return{c(){e=k("img"),i(e.src,n="/img/note-red.png")||S(e,"src","/img/note-red.png"),S(e,"alt",""),S(e,"class","svelte-xnito")},m(t,n){y(t,e,n)},d(t){t&&b(e)}}}function Ft(t){let e,n,o,c,r,s,l,i,a,u,d,f,p,g,h,$,v,q=(t[0]?t[1].length:"")+"";function D(t,e){return t[3]?Ct:Nt}let I=D(t),N=I(t);function C(e){t[10](e)}let F={label:t[3]?t[6][t[2]]:t[7][t[2]],color:t[3]?"#c36266":"gray"};return void 0!==t[0]&&(F.checked=t[0]),s=new It({props:F}),U.push(()=>at(s,"checked",C)),{c(){e=k("link"),n=_(),o=k("div"),N.c(),c=_(),r=k("div"),ut(s.$$.fragment),i=_(),a=k("span"),u=x(q),d=_(),f=k("textarea"),S(e,"rel","stylesheet"),S(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),S(a,"class","number-of-names svelte-xnito"),M(a,"color",t[3]?"#c36266":"gray"),S(r,"class","input-group title custom-control custom-switch svelte-xnito"),S(f,"class","notes svelte-xnito"),S(f,"rows","12"),f.readOnly=p=!t[0],S(f,"placeholder",g=t[0]?"":t[5][t[2]]),S(o,"class","note svelte-xnito")},m(l,p){m(document.head,e),y(l,n,p),y(l,o,p),N.m(o,null),m(o,c),m(o,r),dt(s,r,null),m(r,i),m(r,a),m(a,u),m(o,d),m(o,f),O(f,t[4]),h=!0,$||(v=w(f,"input",t[11]),$=!0)},p(t,[e]){I!==(I=D(t))&&(N.d(1),N=I(t),N&&(N.c(),N.m(o,c)));const n={};12&e&&(n.label=t[3]?t[6][t[2]]:t[7][t[2]]),8&e&&(n.color=t[3]?"#c36266":"gray"),!l&&1&e&&(l=!0,n.checked=t[0],H(()=>l=!1)),s.$set(n),(!h||3&e)&&q!==(q=(t[0]?t[1].length:"")+"")&&E(u,q),(!h||8&e)&&M(a,"color",t[3]?"#c36266":"gray"),(!h||1&e&&p!==(p=!t[0]))&&(f.readOnly=p),(!h||5&e&&g!==(g=t[0]?"":t[5][t[2]]))&&S(f,"placeholder",g),16&e&&O(f,t[4])},i(t){h||(ct(s.$$.fragment,t),h=!0)},o(t){rt(s.$$.fragment,t),h=!1},d(t){b(e),t&&b(n),t&&b(o),N.d(),ft(s),$=!1,v()}}}function At(t,e,n){let{names:o=[]}=e,{lang:c="en"}=e,{active:r=!1}=e,{living:s=!0}=e;const l=z();let i="",a=o.join("\n"),u=r;return t.$$set=t=>{"names"in t&&n(1,o=t.names),"lang"in t&&n(2,c=t.lang),"active"in t&&n(0,r=t.active),"living"in t&&n(3,s=t.living)},t.$$.update=()=>{785&t.$$.dirty&&u!==r&&(r?n(4,i=a):(n(8,a=i),n(4,i="")),n(9,u=r),l("names")),17&t.$$.dirty&&r&&(n(8,a=i),n(1,o=i.split("\n").map(t=>t.trim()).filter(t=>!!t)),l("names"))},[r,o,c,s,i,{ru:"Включите  ⇧  эту кнопку и введите имена крещёных православных христиан.",en:"Toggle  ⇧  this switch and enter names of baptised orthodox christians."},{ru:"О ЗДРАВИИ",en:"FOR LIVING"},{ru:"О УПОКОЕНИИ",en:"FOR DECEASED"},a,u,function(t){r=t,n(0,r)},function(){i=this.value,n(4,i),n(9,u),n(0,r),n(8,a)}]}class Lt extends mt{constructor(t){super(),gt(this,t,At,Ft,s,{names:1,lang:2,active:0,living:3})}}function Tt(t,e,n){const o=t.slice();return o[31]=e[n],o}function zt(t,e,n){const o=t.slice();return o[34]=e[n],o}function jt(t){let e,n,o;return n=new Mt({props:{candles:t[2],src:t[34].image,order:t[0][t[34].id],name:t[34].description,lang:t[1]}}),n.$on("quantity",t[12]),{c(){e=k("div"),ut(n.$$.fragment),S(e,"class","col-md-4 spaced svelte-1xkbmg4")},m(t,c){y(t,e,c),dt(n,e,null),o=!0},p(t,e){const o={};4&e[0]&&(o.candles=t[2]),1&e[0]&&(o.order=t[0][t[34].id]),2&e[0]&&(o.lang=t[1]),n.$set(o)},i(t){o||(ct(n.$$.fragment,t),o=!0)},o(t){rt(n.$$.fragment,t),o=!1},d(t){t&&b(e),ft(n)}}}function Gt(t){let e,n,o=t[31],c=[];for(let e=0;e<o.length;e+=1)c[e]=jt(zt(t,o,e));const r=t=>rt(c[t],1,1,()=>{c[t]=null});return{c(){e=k("div");for(let t=0;t<c.length;t+=1)c[t].c();S(e,"class","row")},m(t,o){y(t,e,o);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);n=!0},p(t,n){if(20487&n[0]){let s;for(o=t[31],s=0;s<o.length;s+=1){const r=zt(t,o,s);c[s]?(c[s].p(r,n),ct(c[s],1)):(c[s]=jt(r),c[s].c(),ct(c[s],1),c[s].m(e,null))}for(nt(),s=o.length;s<c.length;s+=1)r(s);ot()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ct(c[t]);n=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)rt(c[t]);n=!1},d(t){t&&b(e),v(c,t)}}}function Ut(t){let e,n,o,c,r=t[4][t[1]]+"";return{c(){e=k("div"),n=x(r),S(e,"class","row thanks svelte-1xkbmg4")},m(t,o){y(t,e,o),m(e,n),c=!0},p(t,e){(!c||18&e[0])&&r!==(r=t[4][t[1]]+"")&&E(n,r)},i(t){c||(Y(()=>{c&&(o||(o=lt(e,$t,{},!0)),o.run(1))}),c=!0)},o(t){o||(o=lt(e,$t,{},!1)),o.run(0),c=!1},d(t){t&&b(e),t&&o&&o.end()}}}function Pt(t){let e,n,o,r,s,l,a,u,d,f,p,g,h,$,O,M,D,I,N,C,F,A,L,T,z,j,G,P,R=t[5].toFixed(2)+"",B=t[14],J=[];for(let e=0;e<B.length;e+=1)J[e]=Gt(Tt(t,B,e));const Y=t=>rt(J[t],1,1,()=>{J[t]=null});function V(e){t[17](e)}function K(e){t[18](e)}let Q={lang:t[1]};function W(e){t[19](e)}function X(e){t[20](e)}void 0!==t[6]&&(Q.names=t[6]),void 0!==t[7]&&(Q.active=t[7]),r=new Lt({props:Q}),U.push(()=>at(r,"names",V)),U.push(()=>at(r,"active",K)),r.$on("names",t[12]);let Z={living:!1,lang:t[1]};void 0!==t[8]&&(Z.names=t[8]),void 0!==t[9]&&(Z.active=t[9]),d=new Lt({props:Z}),U.push(()=>at(d,"names",W)),U.push(()=>at(d,"active",X)),d.$on("names",t[12]);let tt=t[10]&&Ut(t);return{c(){for(let t=0;t<J.length;t+=1)J[t].c();e=_(),n=k("div"),o=k("div"),ut(r.$$.fragment),a=_(),u=k("div"),ut(d.$$.fragment),g=_(),h=k("div"),$=k("div"),O=_(),M=k("div"),D=k("span"),I=x("$"),N=x(R),C=_(),F=k("button"),F.innerHTML='<i class="fa fa-times"></i>',A=_(),tt&&tt.c(),L=_(),T=k("script"),S(o,"class","col-md-4 col-md-offset-2 spaced svelte-1xkbmg4"),S(u,"class","col-md-4 spaced svelte-1xkbmg4"),S(n,"class","row"),S($,"id","paypal-button-container"),S($,"class","paypal-ugly svelte-1xkbmg4"),S(D,"class","number svelte-1xkbmg4"),S(F,"class","btn btn-circle btn-danger cancel svelte-1xkbmg4"),S(M,"class","amount svelte-1xkbmg4"),S(h,"class","total svelte-1xkbmg4"),q(h,"visible",t[5]>0),i(T.src,z="https://www.paypal.com/sdk/js?client-id="+t[3]+"&currency=USD&disable-funding=card,credit")||S(T,"src",z),S(T,"data-sdk-integration-source","button-factory")},m(c,s){for(let t=0;t<J.length;t+=1)J[t]&&J[t].m(c,s);y(c,e,s),y(c,n,s),m(n,o),dt(r,o,null),m(n,a),m(n,u),dt(d,u,null),y(c,g,s),y(c,h,s),m(h,$),m(h,O),m(h,M),m(M,D),m(D,I),m(D,N),m(M,C),m(M,F),y(c,A,s),tt&&tt.m(c,s),y(c,L,s),m(document.head,T),j=!0,G||(P=[w(F,"click",t[11]),w(T,"load",t[13])],G=!0)},p(t,n){if(20487&n[0]){let o;for(B=t[14],o=0;o<B.length;o+=1){const c=Tt(t,B,o);J[o]?(J[o].p(c,n),ct(J[o],1)):(J[o]=Gt(c),J[o].c(),ct(J[o],1),J[o].m(e.parentNode,e))}for(nt(),o=B.length;o<J.length;o+=1)Y(o);ot()}const o={};2&n[0]&&(o.lang=t[1]),!s&&64&n[0]&&(s=!0,o.names=t[6],H(()=>s=!1)),!l&&128&n[0]&&(l=!0,o.active=t[7],H(()=>l=!1)),r.$set(o);const c={};2&n[0]&&(c.lang=t[1]),!f&&256&n[0]&&(f=!0,c.names=t[8],H(()=>f=!1)),!p&&512&n[0]&&(p=!0,c.active=t[9],H(()=>p=!1)),d.$set(c),(!j||32&n[0])&&R!==(R=t[5].toFixed(2)+"")&&E(N,R),(!j||32&n[0])&&q(h,"visible",t[5]>0),t[10]?tt?(tt.p(t,n),1024&n[0]&&ct(tt,1)):(tt=Ut(t),tt.c(),ct(tt,1),tt.m(L.parentNode,L)):tt&&(nt(),rt(tt,1,1,()=>{tt=null}),ot()),(!j||8&n[0]&&!i(T.src,z="https://www.paypal.com/sdk/js?client-id="+t[3]+"&currency=USD&disable-funding=card,credit"))&&S(T,"src",z)},i(t){if(!j){for(let t=0;t<B.length;t+=1)ct(J[t]);ct(r.$$.fragment,t),ct(d.$$.fragment,t),ct(tt),j=!0}},o(t){J=J.filter(Boolean);for(let t=0;t<J.length;t+=1)rt(J[t]);rt(r.$$.fragment,t),rt(d.$$.fragment,t),rt(tt),j=!1},d(t){v(J,t),t&&b(e),t&&b(n),ft(r),ft(d),t&&b(g),t&&b(h),t&&b(A),tt&&tt.d(t),t&&b(L),b(T),G=!1,c(P)}}}function Rt(t,e,n){let{lang:o="en"}=e,{locations:c=[]}=e,{candles:r=[]}=e,{paypalClientId:s}=e,{brandName:l={}}=e,{thankYouMessage:i={}}=e,{order:a={}}=e;const u=t=>1*Math.floor((t+10-1)/10),d=()=>{for(const t of c){n(0,a[t.id]={},a);for(const e of r)n(0,a[t.id][e.id]=0,a)}n(7,m=!1),n(9,$=!1),y()},f=(t,e)=>a[t.id][e.id]||0;let p=0,g=[];try{g=JSON.parse(localStorage.getItem("names-living")||"[]")}catch{}let m=!1,h=[];try{h=JSON.parse(localStorage.getItem("names-deceased")||"[]")}catch{}let $=!1;function y(){n(5,p=(()=>{let t=0;for(const e of c)for(const n of r){t+=f(e,n)*n.price}return t+(m?u(g.length):0)+($?u(h.length):0)})())}let b=!1,v=!1;var k;function x(t,e){const n=[];for(const t of c)for(const e of r){const c=f(t,e);c>0&&n.push({name:"candles",sku:e.id+"/"+t.id,unit_amount:{currency_code:"USD",value:e.price.toFixed(2)},quantity:c,description:e.description[o]+" :: "+e.description[o],category:"DIGITAL_GOODS"})}if(m&&g.length>0){localStorage.setItem("names-living",JSON.stringify(g));let t=u(g.length);for(const e of g)n.push({name:"names",sku:"names/living",unit_amount:{currency_code:"USD",value:t.toFixed(2)},quantity:1,description:e,category:"DIGITAL_GOODS"}),t=0}if($&&h.length>0){localStorage.setItem("names-deceased",JSON.stringify(h));let t=u(h.length);for(const e of h)n.push({name:"names",sku:"names/deceased",unit_amount:{currency_code:"USD",value:t.toFixed(2)},quantity:1,description:e,category:"DIGITAL_GOODS"}),t=0}const s={amount:{currency_code:"USD",value:p.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:p.toFixed(2)}}},description:"Candles",items:n};return e.order.create({purchase_units:[s],application_context:{brand_name:l[o]}})}function _(t,e){return e.order.capture().then((function(t){d(),n(10,E=!0),setTimeout(()=>{n(10,E=!1)},2500)}))}k=()=>{v=!0,b&&S()},T().$$.on_mount.push(k);const w=t=>{console.log("Cancelled:",t)};function S(){paypal.Buttons({style:{size:"responsive",shape:"pill",color:"blue",layout:"vertical",label:"paypal",tagline:!1},createOrder:x,onApprove:_,onCancel:w}).render("#paypal-button-container")}let E=!1;d();const O=[c.slice(0,3),c.slice(3)];return t.$$set=t=>{"lang"in t&&n(1,o=t.lang),"locations"in t&&n(15,c=t.locations),"candles"in t&&n(2,r=t.candles),"paypalClientId"in t&&n(3,s=t.paypalClientId),"brandName"in t&&n(16,l=t.brandName),"thankYouMessage"in t&&n(4,i=t.thankYouMessage),"order"in t&&n(0,a=t.order)},[a,o,r,s,i,p,g,m,h,$,E,d,y,function(){b=!0,v&&S()},O,c,l,function(t){g=t,n(6,g)},function(t){m=t,n(7,m)},function(t){h=t,n(8,h)},function(t){$=t,n(9,$)}]}class Bt extends mt{constructor(t){super(),gt(this,t,Rt,Pt,s,{lang:1,locations:15,candles:2,paypalClientId:3,brandName:16,thankYouMessage:4,order:0},null,[-1,-1])}}export{Bt as CandleBox};
//# sourceMappingURL=online-candle-box.js.map
