var app=function(t){"use strict";function n(){}const e=t=>t;function o(t){return t()}function l(){return Object.create(null)}function c(t){t.forEach(o)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let a=i?()=>window.performance.now():()=>Date.now(),u=i?t=>requestAnimationFrame(t):n;const f=new Set;function d(t){f.forEach(n=>{n.c(t)||(f.delete(n),n.f())}),0!==f.size&&u(d)}function p(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode.removeChild(t)}function h(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function y(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function $(){return v(" ")}function b(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function _(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n){n=""+n,t.data!==n&&(t.data=n)}function x(t,n){(null!=n||t.value)&&(t.value=n)}function w(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function S(t,n,e){t.classList[e?"add":"remove"](n)}function q(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const M=new Set;let O,I=0;function D(t,n,e,o,l,c,r,s=0){const i=16.666/o;let a="{\n";for(let t=0;t<=1;t+=i){const o=n+(e-n)*c(t);a+=100*t+`%{${r(o,1-o)}}\n`}const u=a+`100% {${r(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${s}`,d=t.ownerDocument;M.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(y("style")).sheet),g=d.__svelte_rules||(d.__svelte_rules={});g[f]||(g[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${f} ${o}ms linear ${l}ms 1 both`,I+=1,f}function E(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),l=e.length-o.length;l&&(t.style.animation=o.join(", "),I-=l,I||u(()=>{I||(M.forEach(t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}}),M.clear())}))}function C(t){O=t}function z(){if(!O)throw new Error("Function called outside component initialization");return O}function F(){const t=z();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=q(n,e);o.slice().forEach(n=>{n.call(t,l)})}}}const N=[],A=[],L=[],T=[],G=Promise.resolve();let U=!1;function j(t){L.push(t)}function B(t){T.push(t)}let R=!1;const J=new Set;function P(){if(!R){R=!0;do{for(let t=0;t<N.length;t+=1){const n=N[t];C(n),Y(n.$$)}for(N.length=0;A.length;)A.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];J.has(n)||(J.add(n),n())}L.length=0}while(N.length);for(;T.length;)T.pop()();U=!1,R=!1,J.clear()}}function Y(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(j)}}let H;function V(t,n,e){t.dispatchEvent(q(`${n?"intro":"outro"}${e}`))}const K=new Set;let Q;function W(){Q={r:0,c:[],p:Q}}function X(){Q.r||c(Q.c),Q=Q.p}function Z(t,n){t&&t.i&&(K.delete(t),t.i(n))}function tt(t,n,e,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push(()=>{K.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const nt={duration:0};function et(t,o,l,s){let i=o(t,l),p=s?0:1,g=null,m=null,h=null;function y(){h&&E(t,h)}function v(t,n){const e=t.b-p;return n*=Math.abs(e),{a:p,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function $(o){const{delay:l=0,duration:r=300,easing:s=e,tick:$=n,css:b}=i||nt,_={start:a()+l,b:o};o||(_.group=Q,Q.r+=1),g?m=_:(b&&(y(),h=D(t,p,o,r,l,s,b)),o&&$(0,1),g=v(_,r),j(()=>V(t,o,"start")),function(t){let n;0===f.size&&u(d),new Promise(e=>{f.add(n={c:t,f:e})})}(n=>{if(m&&n>m.start&&(g=v(m,r),m=null,V(t,g.b,"start"),b&&(y(),h=D(t,p,g.b,g.duration,0,s,i.css))),g)if(n>=g.end)$(p=g.b,1-p),V(t,g.b,"end"),m||(g.b?y():--g.group.r||c(g.group.c)),g=null;else if(n>=g.start){const t=n-g.start;p=g.a+g.d*s(t/g.duration),$(p,1-p)}return!(!g&&!m)}))}return{run(t){r(i)?(H||(H=Promise.resolve(),H.then(()=>{H=null})),H).then(()=>{i=i(),$(t)}):$(t)},end(){y(),g=m=null}}}function ot(t,n){tt(t,1,1,()=>{n.delete(t.key)})}function lt(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function ct(t){t&&t.c()}function rt(t,n,e){const{fragment:l,on_mount:s,on_destroy:i,after_update:a}=t.$$;l&&l.m(n,e),j(()=>{const n=s.map(o).filter(r);i?i.push(...n):c(n),t.$$.on_mount=[]}),a.forEach(j)}function st(t,n){const e=t.$$;null!==e.fragment&&(c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function it(t,n){-1===t.$$.dirty[0]&&(N.push(t),U||(U=!0,G.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function at(t,e,o,r,s,i,a=[-1]){const u=O;C(t);const f=e.props||{},d=t.$$={fragment:null,ctx:null,props:i,update:n,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a};let p=!1;if(d.ctx=o?o(t,f,(n,e,...o)=>{const l=o.length?o[0]:e;return d.ctx&&s(d.ctx[n],d.ctx[n]=l)&&(d.bound[n]&&d.bound[n](l),p&&it(t,n)),e}):[],d.update(),p=!0,c(d.before_update),d.fragment=!!r&&r(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();e.intro&&Z(t.$$.fragment),rt(t,e.target,e.anchor),P()}C(u)}class ut{$destroy(){st(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function ft(t){const n=t-1;return n*n*n+1}function dt(t,{delay:n=0,duration:o=400,easing:l=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:l,css:t=>"opacity: "+t*c}}function pt(t,{delay:n=0,duration:e=400,easing:o=ft,x:l=0,y:c=0,opacity:r=0}){const s=getComputedStyle(t),i=+s.opacity,a="none"===s.transform?"":s.transform,u=i*(1-r);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*l}px, ${(1-t)*c}px);\n\t\t\topacity: ${i-u*n}`}}function gt(t){let e,o,l,r,s,i,a,u,f,d,h,x,w,S=t[1].toFixed(2)+"";return{c(){e=y("div"),o=y("button"),o.innerHTML='<i class="fa fa-minus svelte-1r3xprl"></i>',l=$(),r=y("div"),s=v(t[2]),i=v(" $"),a=v(S),u=v(" ×"),f=y("span"),d=v(t[0]),h=$(),x=y("button"),x.innerHTML='<i class="fa fa-plus svelte-1r3xprl"></i>',_(o,"class","btn btn-default button-circle svelte-1r3xprl"),_(f,"class","quantity svelte-1r3xprl"),_(r,"class","button-title svelte-1r3xprl"),_(x,"class","btn btn-default button-circle svelte-1r3xprl"),_(e,"class","button-row svelte-1r3xprl")},m(n,m,y){g(n,e,m),p(e,o),p(e,l),p(e,r),p(r,s),p(r,i),p(r,a),p(r,u),p(r,f),p(f,d),p(e,h),p(e,x),y&&c(w),w=[b(o,"click",t[4]),b(x,"click",t[3])]},p(t,[n]){4&n&&k(s,t[2]),2&n&&S!==(S=t[1].toFixed(2)+"")&&k(a,S),1&n&&k(d,t[0])},i:n,o:n,d(t){t&&m(e),c(w)}}}function mt(t,n,e){let{price:o=1}=n,{limit:l=5}=n,{quantity:c=0}=n,{label:r=""}=n;const s=F();return t.$set=t=>{"price"in t&&e(1,o=t.price),"limit"in t&&e(5,l=t.limit),"quantity"in t&&e(0,c=t.quantity),"label"in t&&e(2,r=t.label)},[c,o,r,()=>{c<l&&(e(0,c+=1),s("quantity"))},()=>{c>0&&(e(0,c-=1),s("quantity"))},l]}class ht extends ut{constructor(t){super(),at(this,t,mt,gt,s,{price:1,limit:5,quantity:0,label:2})}}function yt(t,n,e){const o=t.slice();return o[12]=n[e],o}function vt(t,n,e){const o=t.slice();return o[15]=n[e],o}function $t(t,n){let e,o,l,c,r;return{key:t,first:null,c(){e=y("div"),o=y("img"),o.src!==(l=n[15].image)&&_(o,"src",l),w(o,"transform","rotate("+n[15].rotate+"deg)"),_(o,"alt",""),_(o,"class","svelte-n0vah4"),_(e,"class","candle svelte-n0vah4"),w(e,"left",n[15].pos+"%"),w(e,"height",n[15].height),this.first=e},m(t,n){g(t,e,n),p(e,o),r=!0},p(t,n){(!r||1&n&&o.src!==(l=t[15].image))&&_(o,"src",l),(!r||1&n)&&w(o,"transform","rotate("+t[15].rotate+"deg)"),(!r||1&n)&&w(e,"left",t[15].pos+"%"),(!r||1&n)&&w(e,"height",t[15].height)},i(t){r||(j(()=>{c||(c=et(e,pt,{y:120,duration:600},!0)),c.run(1)}),r=!0)},o(t){c||(c=et(e,pt,{y:120,duration:600},!1)),c.run(0),r=!1},d(t){t&&m(e),t&&c&&c.end()}}}function bt(t){let n,e;function o(n){t[10].call(null,n,t[12])}let l={label:t[12].description[t[4]],price:t[12].price,limit:t[12].limit};void 0!==t[0][t[12].id]&&(l.quantity=t[0][t[12].id]);const c=new ht({props:l});return A.push(()=>lt(c,"quantity",o)),c.$on("quantity",t[11]),{c(){ct(c.$$.fragment)},m(t,n){rt(c,t,n),e=!0},p(e,o){t=e;const l={};24&o&&(l.label=t[12].description[t[4]]),8&o&&(l.price=t[12].price),8&o&&(l.limit=t[12].limit),!n&&9&o&&(n=!0,l.quantity=t[0][t[12].id],B(()=>n=!1)),c.$set(l)},i(t){e||(Z(c.$$.fragment,t),e=!0)},o(t){tt(c.$$.fragment,t),e=!1},d(t){st(c,t)}}}function _t(t){let n,e,o,l,c,r,s,i,a,u,f=[],d=new Map,b=t[2][t[4]]+"",x=t[5](t[0]);const w=t=>t[15].key;for(let n=0;n<x.length;n+=1){let e=vt(t,x,n),o=w(e);d.set(o,f[n]=$t(o,e))}let S=t[3],q=[];for(let n=0;n<S.length;n+=1)q[n]=bt(yt(t,S,n));const M=t=>tt(q[t],1,1,()=>{q[t]=null});return{c(){n=y("div"),e=y("img"),l=$();for(let t=0;t<f.length;t+=1)f[t].c();c=$(),r=y("div"),s=y("div"),i=v(b),a=$();for(let t=0;t<q.length;t+=1)q[t].c();e.src!==(o=t[1])&&_(e,"src",o),_(e,"alt",""),_(e,"class","svelte-n0vah4"),_(s,"class","button-title svelte-n0vah4"),_(r,"class","buttons svelte-n0vah4"),_(n,"class","icon svelte-n0vah4")},m(t,o){g(t,n,o),p(n,e),p(n,l);for(let t=0;t<f.length;t+=1)f[t].m(n,null);p(n,c),p(n,r),p(r,s),p(s,i),p(r,a);for(let t=0;t<q.length;t+=1)q[t].m(r,null);u=!0},p(t,[l]){if((!u||2&l&&e.src!==(o=t[1]))&&_(e,"src",o),33&l){const e=t[5](t[0]);W(),f=function(t,n,e,o,l,c,r,s,i,a,u,f){let d=t.length,p=c.length,g=d;const m={};for(;g--;)m[t[g].key]=g;const h=[],y=new Map,v=new Map;for(g=p;g--;){const t=f(l,c,g),s=e(t);let i=r.get(s);i?o&&i.p(t,n):(i=a(s,t),i.c()),y.set(s,h[g]=i),s in m&&v.set(s,Math.abs(g-m[s]))}const $=new Set,b=new Set;function _(t){Z(t,1),t.m(s,u,r.has(t.key)),r.set(t.key,t),u=t.first,p--}for(;d&&p;){const n=h[p-1],e=t[d-1],o=n.key,l=e.key;n===e?(u=n.first,d--,p--):y.has(l)?!r.has(o)||$.has(o)?_(n):b.has(l)?d--:v.get(o)>v.get(l)?(b.add(o),_(n)):($.add(l),d--):(i(e,r),d--)}for(;d--;){const n=t[d];y.has(n.key)||i(n,r)}for(;p;)_(h[p-1]);return h}(f,l,w,1,t,e,d,n,ot,$t,c,vt),X()}if((!u||20&l)&&b!==(b=t[2][t[4]]+"")&&k(i,b),25&l){let n;for(S=t[3],n=0;n<S.length;n+=1){const e=yt(t,S,n);q[n]?(q[n].p(e,l),Z(q[n],1)):(q[n]=bt(e),q[n].c(),Z(q[n],1),q[n].m(r,null))}for(W(),n=S.length;n<q.length;n+=1)M(n);X()}},i(t){if(!u){for(let t=0;t<x.length;t+=1)Z(f[t]);for(let t=0;t<S.length;t+=1)Z(q[t]);u=!0}},o(t){for(let t=0;t<f.length;t+=1)tt(f[t]);q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)tt(q[t]);u=!1},d(t){t&&m(n);for(let t=0;t<f.length;t+=1)f[t].d();h(q,t)}}}function kt(t,n,e){let{src:o="icon_theotokos.png"}=n,{name:l="Icon of Theotokos"}=n,{candles:c=[]}=n,{lang:r="en"}=n,{order:s={}}=n;const i=t=>{for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*n),o=t[n];t[n]=t[e],t[e]=o}return t},a=c.reduce((t,n)=>t+n.limit,0),u={};function f(){u.pos=i([...Array(a).keys()]),u.rotation=[...Array(a).keys()].map(()=>10*Math.random()-5)}f();return t.$set=t=>{"src"in t&&e(1,o=t.src),"name"in t&&e(2,l=t.name),"candles"in t&&e(3,c=t.candles),"lang"in t&&e(4,r=t.lang),"order"in t&&e(0,s=t.order)},[s,o,l,c,r,t=>{const n=[];var e=0;for(const o of c){for(let l=0;l<t[o.id];l++)n.push({image:o.image,pos:100*(.25+u.pos[e+l])/a,height:o.height,rotate:u.rotation[e+l],key:e+l});e+=o.limit}return 0===n.length&&f(),n},u,i,a,f,function(t,n){s[n.id]=t,e(0,s)},function(n){!function(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(t=>t(n))}(t,n)}]}class xt extends ut{constructor(t){super(),at(this,t,kt,_t,s,{src:1,name:2,candles:3,lang:4,order:0})}}function wt(t){let e,o,l,c,r,s,i,a;return{c(){e=y("label"),o=y("input"),l=$(),c=y("span"),r=$(),s=y("span"),i=v(t[1]),_(o,"type","checkbox"),_(o,"class","svelte-52zyub"),_(c,"class","slider svelte-52zyub"),w(c,"background-color",t[0]?t[2]:"#ccc"),_(e,"class","switch svelte-52zyub"),_(s,"class","label svelte-52zyub"),w(s,"color",t[2])},m(n,u,f){g(n,e,u),p(e,o),o.checked=t[0],p(e,l),p(e,c),g(n,r,u),g(n,s,u),p(s,i),f&&a(),a=b(o,"change",t[3])},p(t,[n]){1&n&&(o.checked=t[0]),5&n&&w(c,"background-color",t[0]?t[2]:"#ccc"),2&n&&k(i,t[1]),4&n&&w(s,"color",t[2])},i:n,o:n,d(t){t&&m(e),t&&m(r),t&&m(s),a()}}}function St(t,n,e){let{checked:o=!1}=n,{label:l=""}=n,{color:c="#2196F3"}=n;return t.$set=t=>{"checked"in t&&e(0,o=t.checked),"label"in t&&e(1,l=t.label),"color"in t&&e(2,c=t.color)},[o,l,c,function(){o=this.checked,e(0,o)}]}class qt extends ut{constructor(t){super(),at(this,t,St,wt,s,{checked:0,label:1,color:2})}}function Mt(t){let n,e;return{c(){n=y("img"),n.src!==(e="/img/note-black.png")&&_(n,"src","/img/note-black.png"),_(n,"alt",""),_(n,"class","svelte-xnito")},m(t,e){g(t,n,e)},d(t){t&&m(n)}}}function Ot(t){let n,e;return{c(){n=y("img"),n.src!==(e="/img/note-red.png")&&_(n,"src","/img/note-red.png"),_(n,"alt",""),_(n,"class","svelte-xnito")},m(t,e){g(t,n,e)},d(t){t&&m(n)}}}function It(t){let n,e,o,l,c,r,s,i,a,u,f,d,h,S,q,M=(t[1]?t[0].length:"")+"";function O(t,n){return t[3]?Ot:Mt}let I=O(t),D=I(t);function E(n){t[11].call(null,n)}let C={label:t[3]?t[6][t[2]]:t[7][t[2]],color:t[3]?"#c36266":"gray"};void 0!==t[1]&&(C.checked=t[1]);const z=new qt({props:C});return A.push(()=>lt(z,"checked",E)),{c(){n=y("link"),e=$(),o=y("div"),D.c(),l=$(),c=y("div"),ct(z.$$.fragment),s=$(),i=y("span"),a=v(M),u=$(),f=y("textarea"),_(n,"rel","stylesheet"),_(n,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),_(i,"class","number-of-names svelte-xnito"),w(i,"color",t[3]?"#c36266":"gray"),_(c,"class","input-group title custom-control custom-switch svelte-xnito"),_(f,"class","notes svelte-xnito"),_(f,"rows","12"),f.readOnly=d=!t[1],_(f,"placeholder",h=t[1]?"":t[5][t[2]]),_(o,"class","note svelte-xnito")},m(r,d,m){p(document.head,n),g(r,e,d),g(r,o,d),D.m(o,null),p(o,l),p(o,c),rt(z,c,null),p(c,s),p(c,i),p(i,a),p(o,u),p(o,f),x(f,t[4]),S=!0,m&&q(),q=b(f,"input",t[12])},p(t,[n]){I!==(I=O(t))&&(D.d(1),D=I(t),D&&(D.c(),D.m(o,l)));const e={};12&n&&(e.label=t[3]?t[6][t[2]]:t[7][t[2]]),8&n&&(e.color=t[3]?"#c36266":"gray"),!r&&2&n&&(r=!0,e.checked=t[1],B(()=>r=!1)),z.$set(e),(!S||3&n)&&M!==(M=(t[1]?t[0].length:"")+"")&&k(a,M),(!S||8&n)&&w(i,"color",t[3]?"#c36266":"gray"),(!S||2&n&&d!==(d=!t[1]))&&(f.readOnly=d),(!S||6&n&&h!==(h=t[1]?"":t[5][t[2]]))&&_(f,"placeholder",h),16&n&&x(f,t[4])},i(t){S||(Z(z.$$.fragment,t),S=!0)},o(t){tt(z.$$.fragment,t),S=!1},d(t){m(n),t&&m(e),t&&m(o),D.d(),st(z),q()}}}function Dt(t,n,e){let{names:o=[]}=n,{lang:l="en"}=n,{active:c=!1}=n,{living:r=!0}=n;const s=F();let i="",a=o.join("\n"),u=c;return t.$set=t=>{"names"in t&&e(0,o=t.names),"lang"in t&&e(2,l=t.lang),"active"in t&&e(1,c=t.active),"living"in t&&e(3,r=t.living)},t.$$.update=()=>{786&t.$$.dirty&&u!==c&&(c?e(4,i=a):(e(8,a=i),e(4,i="")),e(9,u=c),s("names")),18&t.$$.dirty&&c&&(e(8,a=i),e(0,o=i.split("\n").map(t=>t.trim()).filter(t=>!!t)),s("names"))},[o,c,l,r,i,{ru:"Включите  ⇧  эту кнопку и введите имена крещёных православных христиан.",en:"Toggle  ⇧  this switch and enter names of baptised orthodox christians."},{ru:"О ЗДРАВИИ",en:"FOR LIVING"},{ru:"О УПОКОЕНИИ",en:"FOR DEAD"},a,u,s,function(t){c=t,e(1,c)},function(){i=this.value,e(4,i),e(9,u),e(1,c),e(8,a)}]}class Et extends ut{constructor(t){super(),at(this,t,Dt,It,s,{names:0,lang:2,active:1,living:3})}}function Ct(t,n,e){const o=t.slice();return o[33]=n[e],o}function zt(t,n,e){const o=t.slice();return o[30]=n[e],o}function Ft(t){let n,e;const o=new xt({props:{candles:t[2],src:t[33].image,order:t[0][t[33].id],name:t[33].description,lang:t[1]}});return o.$on("quantity",t[12]),{c(){n=y("div"),ct(o.$$.fragment),_(n,"class","col-lg-4 col-md-12 icon svelte-1mq0z2f")},m(t,l){g(t,n,l),rt(o,n,null),e=!0},p(t,n){const e={};4&n[0]&&(e.candles=t[2]),1&n[0]&&(e.order=t[0][t[33].id]),2&n[0]&&(e.lang=t[1]),o.$set(e)},i(t){e||(Z(o.$$.fragment,t),e=!0)},o(t){tt(o.$$.fragment,t),e=!1},d(t){t&&m(n),st(o)}}}function Nt(t){let n,e,o=t[30],l=[];for(let n=0;n<o.length;n+=1)l[n]=Ft(Ct(t,o,n));const c=t=>tt(l[t],1,1,()=>{l[t]=null});return{c(){n=y("div");for(let t=0;t<l.length;t+=1)l[t].c();_(n,"class","row")},m(t,o){g(t,n,o);for(let t=0;t<l.length;t+=1)l[t].m(n,null);e=!0},p(t,e){if(20487&e[0]){let r;for(o=t[30],r=0;r<o.length;r+=1){const c=Ct(t,o,r);l[r]?(l[r].p(c,e),Z(l[r],1)):(l[r]=Ft(c),l[r].c(),Z(l[r],1),l[r].m(n,null))}for(W(),r=o.length;r<l.length;r+=1)c(r);X()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)Z(l[t]);e=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)tt(l[t]);e=!1},d(t){t&&m(n),h(l,t)}}}function At(t){let n,e,o,l,c=t[4][t[1]]+"";return{c(){n=y("div"),e=v(c),_(n,"class","row thanks svelte-1mq0z2f")},m(t,o){g(t,n,o),p(n,e),l=!0},p(t,n){(!l||18&n[0])&&c!==(c=t[4][t[1]]+"")&&k(e,c)},i(t){l||(j(()=>{o||(o=et(n,dt,{},!0)),o.run(1)}),l=!0)},o(t){o||(o=et(n,dt,{},!1)),o.run(0),l=!1},d(t){t&&m(n),t&&o&&o.end()}}}function Lt(t){let n,e,o,l,r,s,i,a,u,f,d,x,w,q,M,O,I,D,E,C,z,F,N,L,T,G=t[5].toFixed(2)+"",U=t[14],j=[];for(let n=0;n<U.length;n+=1)j[n]=Nt(zt(t,U,n));const R=t=>tt(j[t],1,1,()=>{j[t]=null});function J(n){t[26].call(null,n)}function P(n){t[27].call(null,n)}let Y={lang:t[1]};void 0!==t[6]&&(Y.names=t[6]),void 0!==t[7]&&(Y.active=t[7]);const H=new Et({props:Y});function V(n){t[28].call(null,n)}function K(n){t[29].call(null,n)}A.push(()=>lt(H,"names",J)),A.push(()=>lt(H,"active",P)),H.$on("names",t[12]);let Q={living:!1,lang:t[1]};void 0!==t[8]&&(Q.names=t[8]),void 0!==t[9]&&(Q.active=t[9]);const nt=new Et({props:Q});A.push(()=>lt(nt,"names",V)),A.push(()=>lt(nt,"active",K)),nt.$on("names",t[12]);let et=t[10]&&At(t);return{c(){for(let t=0;t<j.length;t+=1)j[t].c();n=$(),e=y("div"),o=y("div"),ct(H.$$.fragment),s=$(),i=y("div"),ct(nt.$$.fragment),f=$(),d=y("div"),x=y("div"),w=$(),q=y("div"),M=y("span"),O=v("$"),I=v(G),D=$(),E=y("button"),E.innerHTML='<i class="fa fa-times"></i>',C=$(),et&&et.c(),z=$(),F=y("script"),_(o,"class","col-lg-4 col-lg-offset-2"),_(i,"class","col-lg-4"),_(e,"class","row"),_(x,"id","paypal-button-container"),_(x,"class","paypal-ugly svelte-1mq0z2f"),_(M,"class","number svelte-1mq0z2f"),_(E,"class","btn btn-circle btn-danger cancel svelte-1mq0z2f"),_(q,"class","amount svelte-1mq0z2f"),_(d,"class","total svelte-1mq0z2f"),S(d,"visible",t[5]>0),F.src!==(N="https://www.paypal.com/sdk/js?client-id="+t[3]+"&currency=USD&disable-funding=card,credit")&&_(F,"src",N),_(F,"data-sdk-integration-source","button-factory")},m(l,r,a){for(let t=0;t<j.length;t+=1)j[t].m(l,r);g(l,n,r),g(l,e,r),p(e,o),rt(H,o,null),p(e,s),p(e,i),rt(nt,i,null),g(l,f,r),g(l,d,r),p(d,x),p(d,w),p(d,q),p(q,M),p(M,O),p(M,I),p(q,D),p(q,E),g(l,C,r),et&&et.m(l,r),g(l,z,r),p(document.head,F),L=!0,a&&c(T),T=[b(E,"click",t[11]),b(F,"load",t[13])]},p(t,e){if(20487&e[0]){let o;for(U=t[14],o=0;o<U.length;o+=1){const l=zt(t,U,o);j[o]?(j[o].p(l,e),Z(j[o],1)):(j[o]=Nt(l),j[o].c(),Z(j[o],1),j[o].m(n.parentNode,n))}for(W(),o=U.length;o<j.length;o+=1)R(o);X()}const o={};2&e[0]&&(o.lang=t[1]),!l&&64&e[0]&&(l=!0,o.names=t[6],B(()=>l=!1)),!r&&128&e[0]&&(r=!0,o.active=t[7],B(()=>r=!1)),H.$set(o);const c={};2&e[0]&&(c.lang=t[1]),!a&&256&e[0]&&(a=!0,c.names=t[8],B(()=>a=!1)),!u&&512&e[0]&&(u=!0,c.active=t[9],B(()=>u=!1)),nt.$set(c),(!L||32&e[0])&&G!==(G=t[5].toFixed(2)+"")&&k(I,G),32&e[0]&&S(d,"visible",t[5]>0),t[10]?et?(et.p(t,e),1024&e[0]&&Z(et,1)):(et=At(t),et.c(),Z(et,1),et.m(z.parentNode,z)):et&&(W(),tt(et,1,1,()=>{et=null}),X()),(!L||8&e[0]&&F.src!==(N="https://www.paypal.com/sdk/js?client-id="+t[3]+"&currency=USD&disable-funding=card,credit"))&&_(F,"src",N)},i(t){if(!L){for(let t=0;t<U.length;t+=1)Z(j[t]);Z(H.$$.fragment,t),Z(nt.$$.fragment,t),Z(et),L=!0}},o(t){j=j.filter(Boolean);for(let t=0;t<j.length;t+=1)tt(j[t]);tt(H.$$.fragment,t),tt(nt.$$.fragment,t),tt(et),L=!1},d(t){h(j,t),t&&m(n),t&&m(e),st(H),st(nt),t&&m(f),t&&m(d),t&&m(C),et&&et.d(t),t&&m(z),m(F),c(T)}}}function Tt(t,n,e){let{lang:o="en"}=n,{locations:l=[]}=n,{candles:c=[]}=n,{paypalClientId:r}=n,{brandName:s={}}=n,{thankYouMessage:i={}}=n,{order:a={}}=n;const u=()=>{for(const t of l){e(0,a[t.id]={},a);for(const n of c)e(0,a[t.id][n.id]=0,a)}e(7,m=!1),e(9,y=!1),v()},f=(t,n)=>a[t.id][n.id]||0,d=()=>{let t=0;for(const n of l)for(const e of c){t+=f(n,e)*e.price}return t+(m?Math.floor((g.length+7)/8):0)+(y?Math.floor((h.length+7)/8):0)};let p=0,g=[];try{g=JSON.parse(localStorage.getItem("names-living")||"[]")}catch{}let m=!1,h=[];try{h=JSON.parse(localStorage.getItem("names-deceased")||"[]")}catch{}let y=!1;function v(){console.log("quantity changed:",a),e(5,p=d())}let $=!1,b=!1;var _;function k(t,n){const e=[];for(const t of l)for(const n of c){const l=f(t,n);l>0&&e.push({name:"candles",sku:n.id+"/"+t.id,unit_amount:{currency_code:"USD",value:n.price.toFixed(2)},quantity:l,description:n.description[o]+" :: "+n.description[o],category:"DIGITAL_GOODS"})}if(m&&g.length>0){localStorage.setItem("names-living",JSON.stringify(g));let t=Math.floor((g.length+7)/8);for(const n of g)e.push({name:"names",sku:"names/living",unit_amount:{currency_code:"USD",value:t.toFixed(2)},quantity:1,description:n,category:"DIGITAL_GOODS"}),t=0}if(y&&h.length>0){localStorage.setItem("names-deceased",JSON.stringify(h));let t=Math.floor((h.length+7)/8);for(const n of h)e.push({name:"names",sku:"names/deceased",unit_amount:{currency_code:"USD",value:t.toFixed(2)},quantity:1,description:n,category:"DIGITAL_GOODS"}),t=0}const r={amount:{currency_code:"USD",value:p.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:p.toFixed(2)}}},description:"Candles",items:e};return console.log(r),n.order.create({purchase_units:[r],application_context:{brand_name:s[o]}})}function x(t,n){return n.order.capture().then((function(t){u(),M()}))}_=()=>{b=!0,$&&S()},z().$$.on_mount.push(_);const w=t=>{console.log("Cancelled:",t)};function S(){paypal.Buttons({style:{size:"responsive",shape:"pill",color:"blue",layout:"vertical",label:"paypal",tagline:!1},createOrder:k,onApprove:x,onCancel:w}).render("#paypal-button-container")}let q=!1;function M(){e(10,q=!0),setTimeout(()=>{e(10,q=!1)},2500)}u();const O=[l.slice(0,3),l.slice(3)];return t.$set=t=>{"lang"in t&&e(1,o=t.lang),"locations"in t&&e(15,l=t.locations),"candles"in t&&e(2,c=t.candles),"paypalClientId"in t&&e(3,r=t.paypalClientId),"brandName"in t&&e(16,s=t.brandName),"thankYouMessage"in t&&e(4,i=t.thankYouMessage),"order"in t&&e(0,a=t.order)},[a,o,c,r,i,p,g,m,h,y,q,u,v,function(){$=!0,b&&S()},O,l,s,$,b,f,d,k,x,w,S,M,function(t){g=t,e(6,g)},function(t){m=t,e(7,m)},function(t){h=t,e(8,h)},function(t){y=t,e(9,y)}]}return t.CandleBox=class extends ut{constructor(t){super(),at(this,t,Tt,Lt,s,{lang:1,locations:15,candles:2,paypalClientId:3,brandName:16,thankYouMessage:4,order:0},[-1,-1])}},t}({});
//# sourceMappingURL=online-candle-box.js.map
